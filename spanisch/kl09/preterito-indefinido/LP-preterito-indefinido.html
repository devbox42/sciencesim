<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Pret√©rito Indefinido | Spanisch Klasse 9</title>
    <style>
        :root {
            --bg: #f5f5f5;
            --white: #ffffff;
            --border: #dddddd;
            --text-primary: #222222;
            --text-secondary: #555555;
            --text-muted: #888888;
            --spanisch: #c41e3a;
            --spanisch-light: #f8e8eb;
            --success: #2a7a4b;
            --success-light: #e8f5e9;
            --warning: #b35c00;
            --warning-light: #fff3e0;
            --error: #c62828;
            --error-light: #ffebee;
            --info: #1565c0;
            --info-light: #e3f2fd;
        }

        * { box-sizing: border-box; }

        /* Touch-friendly defaults */
        button, .station-btn, .mc-option, .match-card, .fc-btn, .flashcard {
            -webkit-tap-highlight-color: rgba(196, 30, 58, 0.2);
            touch-action: manipulation;
            user-select: none;
            -webkit-user-select: none;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            font-size: 0.9em;
            line-height: 1.5;
            color: var(--text-primary);
            background: var(--bg);
            margin: 0;
            padding: 20px;
        }

        .container { max-width: 950px; margin: 0 auto; }

        header {
            background: var(--spanisch);
            color: white;
            padding: 15px 20px;
            margin-bottom: 20px;
        }

        header h1 { margin: 0; font-size: 1.4em; font-weight: 600; }
        header .meta { font-size: 0.85em; opacity: 0.9; margin-top: 4px; }

        .lernziele {
            background: var(--white);
            border: 1px solid var(--border);
            padding: 15px;
            margin-bottom: 20px;
        }

        .lernziele h2 { font-size: 0.95em; margin: 0 0 8px 0; color: var(--spanisch); }
        .lernziele ul { margin: 0; padding-left: 20px; }

        .station-nav {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }

        .station-btn {
            background: var(--white);
            border: 2px solid var(--border);
            padding: 12px 6px;
            min-height: 54px;
            text-align: center;
            cursor: pointer;
            font-size: 0.8em;
        }

        .station-btn:hover, .station-btn:active { border-color: var(--spanisch); }
        .station-btn.active { border-color: var(--spanisch); background: var(--spanisch-light); }
        .station-btn.completed { border-color: var(--success); background: var(--success-light); }
        .station-btn .number { font-weight: 600; font-size: 1.1em; color: var(--spanisch); }
        .station-btn .title { font-size: 0.75em; color: var(--text-muted); margin-top: 2px; }

        .station {
            background: var(--white);
            border: 1px solid var(--border);
            padding: 20px;
            margin-bottom: 15px;
            display: none;
        }

        .station.active { display: block; }

        .station-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--spanisch);
        }

        .station-number {
            background: var(--spanisch);
            color: white;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1.1em;
        }

        .station-title { font-weight: 600; font-size: 1.15em; }

        .es { font-family: Georgia, "Times New Roman", serif; font-weight: 600; }
        .de { color: var(--text-muted); font-style: italic; font-size: 0.9em; }

        .grammar-box {
            background: var(--bg);
            border-left: 3px solid var(--spanisch);
            padding: 12px 15px;
            margin: 15px 0;
        }

        .grammar-box h3 { font-size: 0.95em; margin: 0 0 10px 0; color: var(--spanisch); }
        .grammar-box h4 { font-size: 0.9em; margin: 12px 0 8px 0; }

        .conj-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
            margin: 10px 0;
        }

        .conj-table th, .conj-table td {
            padding: 6px 10px;
            border: 1px solid var(--border);
            text-align: left;
        }

        .conj-table th {
            background: var(--spanisch);
            color: white;
            font-weight: 600;
        }

        .conj-table .pronoun { font-weight: 600; background: #f9f9f9; }
        .conj-table .ending { color: var(--spanisch); font-weight: 600; }
        .conj-table .highlight { background: var(--warning-light); }

        .accent-warning {
            background: var(--warning-light);
            border: 2px solid var(--warning);
            padding: 12px 15px;
            margin: 15px 0;
            font-size: 0.9em;
        }

        .accent-warning::before {
            content: "¬°Atenci√≥n! Acentos";
            display: inline-block;
            background: var(--warning);
            color: white;
            font-size: 0.75em;
            font-weight: 600;
            padding: 2px 8px;
            margin-bottom: 8px;
        }

        .accent-keyboard {
            background: var(--info-light);
            border: 1px solid var(--info);
            padding: 10px 15px;
            margin: 10px 0;
            font-size: 0.85em;
        }

        .accent-keyboard code {
            background: #fff;
            padding: 2px 6px;
            border: 1px solid var(--border);
            font-family: monospace;
        }

        .tip {
            background: var(--bg);
            border-left: 3px solid var(--text-muted);
            padding: 10px 15px;
            margin: 10px 0;
            font-size: 0.9em;
        }

        .exercise {
            background: var(--info-light);
            border: 1px solid #cce0ff;
            padding: 15px;
            margin: 15px 0;
        }

        .exercise h3 { font-size: 0.95em; margin: 0 0 12px 0; color: var(--spanisch); }

        .question { margin-bottom: 12px; }

        input[type="text"] {
            border: none;
            border-bottom: 2px solid var(--spanisch);
            padding: 4px 8px;
            font-size: inherit;
            font-family: inherit;
            background: transparent;
            width: 120px;
        }

        input[type="text"]:focus { outline: none; border-bottom-color: var(--text-primary); }
        input[type="text"].correct { border-bottom-color: var(--success); color: var(--success); background: var(--success-light); }
        input[type="text"].incorrect { border-bottom-color: var(--error); color: var(--error); background: var(--error-light); }

        .check-btn {
            background: var(--spanisch);
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 0.9em;
            cursor: pointer;
            margin-top: 10px;
        }

        .check-btn:hover { opacity: 0.9; }

        .next-btn {
            background: var(--success);
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 0.9em;
            cursor: pointer;
            margin-top: 15px;
            float: right;
        }

        .feedback {
            padding: 10px 15px;
            margin-top: 15px;
            font-size: 0.9em;
            clear: both;
        }

        .feedback.success { background: var(--success-light); border: 1px solid var(--success); color: var(--success); }
        .feedback.error { background: var(--error-light); border: 1px solid var(--error); color: var(--error); }

        /* Irregular verb patterns */
        .pattern-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 15px 0;
        }

        .pattern-box {
            background: var(--white);
            border: 2px solid var(--border);
            padding: 12px;
        }

        .pattern-box h4 {
            margin: 0 0 8px 0;
            color: var(--spanisch);
            font-size: 0.9em;
        }

        .pattern-box ul {
            margin: 0;
            padding-left: 18px;
            font-size: 0.85em;
        }

        /* Time indicators comparison */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }

        .comparison-box {
            padding: 15px;
        }

        .comparison-box.indefinido {
            background: var(--spanisch-light);
            border: 2px solid var(--spanisch);
        }

        .comparison-box.perfecto {
            background: var(--info-light);
            border: 2px solid var(--info);
        }

        .comparison-box h4 {
            margin: 0 0 10px 0;
            font-size: 0.95em;
        }

        .comparison-box ul {
            margin: 0;
            padding-left: 20px;
        }

        /* Flashcard game */
        .flashcard-area {
            perspective: 1000px;
            margin: 20px 0;
            position: relative;
            overflow: hidden;
            touch-action: pan-y;
        }

        .flashcard {
            width: 100%;
            height: 200px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
            cursor: pointer;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .flashcard.flipped { transform: rotateY(180deg); }

        /* Swipe animations */
        .flashcard.swiping {
            transition: transform 0.1s ease-out;
        }
        .flashcard.swipe-right {
            transition: transform 0.3s ease-out;
            transform: translateX(120%) rotate(15deg);
            opacity: 0;
        }
        .flashcard.swipe-left {
            transition: transform 0.3s ease-out;
            transform: translateX(-120%) rotate(-15deg);
            opacity: 0;
        }

        /* Swipe hint indicators */
        .swipe-hint {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2.5em;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.2s;
            pointer-events: none;
            z-index: 10;
        }
        .swipe-hint.left {
            left: 20px;
            color: var(--error);
        }
        .swipe-hint.right {
            right: 20px;
            color: var(--success);
        }
        .swipe-hint.visible {
            opacity: 1;
        }

        .flashcard-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
        }

        .flashcard-front {
            background: var(--spanisch);
            color: white;
        }

        .flashcard-back {
            transform: rotateY(180deg);
            background: var(--white);
        }

        .card-prompt { font-size: 1.1em; margin-bottom: 10px; }
        .card-verb { font-size: 1.8em; font-weight: 600; }
        .card-answer { font-size: 1.8em; font-weight: 600; color: var(--spanisch); }
        .card-hint { font-size: 0.9em; opacity: 0.8; margin-top: 10px; text-align: center; }

        /* iPad swipe instruction */
        .swipe-instruction {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9em;
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 30px;
        }
        .swipe-instruction span {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .swipe-instruction .icon-left { color: var(--error); }
        .swipe-instruction .icon-right { color: var(--success); }

        .flashcard-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }

        .fc-btn {
            padding: 10px 25px;
            border: none;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
        }

        .fc-btn.wrong { background: var(--error); color: white; }
        .fc-btn.correct { background: var(--success); color: white; }
        .fc-btn.next { background: var(--spanisch); color: white; }
        .fc-btn.shuffle { background: var(--text-secondary); color: white; }

        .fc-score {
            text-align: center;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .fc-score .correct-count { color: var(--success); font-weight: 600; }
        .fc-score .wrong-count { color: var(--error); font-weight: 600; }

        /* Matching game */
        .match-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .match-card {
            padding: 15px 10px;
            min-height: 48px;
            text-align: center;
            border: 2px solid var(--border);
            background: var(--white);
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .match-card:hover, .match-card:active { border-color: var(--spanisch); background: #fafafa; }
        .match-card.selected { border-color: var(--spanisch); background: var(--spanisch-light); }
        .match-card.matched { border-color: var(--success); background: var(--success-light); cursor: default; }
        .match-card.wrong { border-color: var(--error); background: var(--error-light); }

        /* Multiple choice */
        .mc-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 10px 0;
        }

        .mc-option {
            padding: 14px 15px;
            min-height: 48px;
            border: 2px solid var(--border);
            background: var(--white);
            cursor: pointer;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mc-option:hover, .mc-option:active { border-color: var(--spanisch); background: #fafafa; }
        .mc-option.selected { border-color: var(--spanisch); background: var(--spanisch-light); }
        .mc-option.correct { border-color: var(--success); background: var(--success-light); }
        .mc-option.incorrect { border-color: var(--error); background: var(--error-light); }

        /* Self-assessment */
        .self-assessment {
            background: var(--bg);
            padding: 15px;
            margin-top: 20px;
        }

        .self-assessment h3 { margin: 0 0 10px 0; font-size: 1em; }

        .traffic-light { display: flex; gap: 10px; margin-top: 8px; }

        .traffic-light label {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            padding: 5px 10px;
            border: 1px solid var(--border);
            background: var(--white);
        }

        .traffic-light input:checked + span { font-weight: 600; }

        /* Writing area */
        .writing-area {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 2px solid var(--border);
            font-family: inherit;
            font-size: inherit;
            resize: vertical;
        }

        .writing-area:focus { outline: none; border-color: var(--spanisch); }

        /* Score display */
        .score-display {
            background: var(--spanisch);
            color: white;
            padding: 15px;
            text-align: center;
            margin: 15px 0;
        }

        .score-display .score { font-size: 2em; font-weight: 700; }
        .score-display .label { font-size: 0.9em; opacity: 0.9; }

        /* Extension badge */
        .extension-badge {
            display: inline-block;
            background: var(--warning);
            color: white;
            font-size: 0.7em;
            font-weight: 600;
            padding: 2px 8px;
            margin-left: 10px;
            vertical-align: middle;
        }

        @media (max-width: 700px) {
            .station-nav { grid-template-columns: repeat(4, 1fr); }
            .pattern-grid { grid-template-columns: 1fr; }
            .comparison-grid { grid-template-columns: 1fr; }
            .match-game { grid-template-columns: repeat(2, 1fr); }
            .mc-options { grid-template-columns: 1fr; }

            /* Larger touch targets on mobile */
            .check-btn, .next-btn, .fc-btn {
                padding: 14px 24px;
                font-size: 1em;
            }

            input[type="text"] {
                font-size: 16px; /* Prevents iOS zoom on focus */
                padding: 8px 10px;
                min-height: 44px;
            }

            .flashcard {
                height: 200px;
            }

            .station-btn {
                min-height: 60px;
                padding: 10px 4px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>El Pret√©rito Indefinido</h1>
            <div class="meta">Spanisch ¬∑ Klasse 9 ¬∑ Grammatik ¬∑ 90 Minuten</div>
        </header>

        <div class="lernziele">
            <h2>Das lernst du heute:</h2>
            <ul>
                <li>Die Konjugation regelm√§√üiger Verben im pret√©rito indefinido</li>
                <li>Die wichtigsten unregelm√§√üigen Verben und ihre Muster</li>
                <li>Den Unterschied zwischen indefinido und perfecto</li>
                <li>Zeitangaben richtig zuordnen (ayer vs. hoy)</li>
            </ul>
        </div>

        <!-- STATION NAVIGATION -->
        <div class="station-nav">
            <div class="station-btn active" onclick="showStation(1)">
                <div class="number">1</div>
                <div class="title">Einf√ºhrung</div>
            </div>
            <div class="station-btn" onclick="showStation(2)">
                <div class="number">2</div>
                <div class="title">Regelm√§√üig</div>
            </div>
            <div class="station-btn" onclick="showStation(3)">
                <div class="number">3</div>
                <div class="title">√úben I</div>
            </div>
            <div class="station-btn" onclick="showStation(4)">
                <div class="number">4</div>
                <div class="title">Irregul√§r</div>
            </div>
            <div class="station-btn" onclick="showStation(5)">
                <div class="number">5</div>
                <div class="title">√úben II</div>
            </div>
            <div class="station-btn" onclick="showStation(6)">
                <div class="number">6</div>
                <div class="title">Ind. vs. Perf.</div>
            </div>
            <div class="station-btn" onclick="showStation(7)">
                <div class="number">7</div>
                <div class="title">Spiele</div>
            </div>
            <div class="station-btn" onclick="showStation(8)">
                <div class="number">8</div>
                <div class="title">Extra</div>
            </div>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- STATION 1: EINF√úHRUNG -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="station active" id="station1">
            <div class="station-header">
                <div class="station-number">1</div>
                <div class="station-title">Einf√ºhrung: Was ist das Pret√©rito Indefinido?</div>
            </div>

            <p>Das <strong>pret√©rito indefinido</strong> ist eine Vergangenheitszeit im Spanischen. Du verwendest es f√ºr <strong>abgeschlossene Handlungen</strong> in der Vergangenheit.</p>

            <div class="grammar-box">
                <h3>Wann benutzt man das Indefinido?</h3>
                <ul>
                    <li>F√ºr Handlungen, die <strong>zu einem bestimmten Zeitpunkt</strong> in der Vergangenheit stattfanden</li>
                    <li>F√ºr Handlungen, die <strong>abgeschlossen</strong> sind und keinen Bezug zur Gegenwart haben</li>
                    <li>Mit Zeitangaben wie: <span class="es">ayer, la semana pasada, en 2020, hace dos a√±os</span></li>
                </ul>
            </div>

            <div class="grammar-box">
                <h3>Beispiele</h3>
                <table class="conj-table">
                    <tr>
                        <td><span class="es">Ayer com√≠ una pizza.</span></td>
                        <td><span class="de">Gestern a√ü ich eine Pizza.</span></td>
                    </tr>
                    <tr>
                        <td><span class="es">El a√±o pasado viaj√© a Espa√±a.</span></td>
                        <td><span class="de">Letztes Jahr reiste ich nach Spanien.</span></td>
                    </tr>
                    <tr>
                        <td><span class="es">Mar√≠a estudi√≥ medicina.</span></td>
                        <td><span class="de">Mar√≠a studierte Medizin.</span></td>
                    </tr>
                </table>
            </div>

            <div class="accent-warning">
                <p><strong>Die Akzente (tildes) sind SEHR wichtig!</strong></p>
                <p>Im Indefinido haben viele Formen einen Akzent: <span class="es">habl√©, habl√≥, com√≠, comi√≥</span></p>
                <p>Ohne Akzent √§ndert sich die Bedeutung! <span class="es">hablo</span> (ich spreche) ‚â† <span class="es">habl√≥</span> (er/sie sprach)</p>
                <p><strong>In allen √úbungen musst du die Akzente korrekt schreiben!</strong></p>
            </div>

            <div class="accent-keyboard">
                <strong>So schreibst du Akzente:</strong>

                <!-- Methode 1: Gedr√ºckt halten (iPad + Mac) -->
                <div style="margin: 15px 0; padding: 15px; background: #fff; border: 2px solid var(--spanisch); border-radius: 8px;">
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 10px;">
                        <span style="font-size: 1.3em;">üì±üíª</span>
                        <strong style="color: var(--spanisch);">iPad, iPhone &amp; Mac ‚Äì Einfachste Methode:</strong>
                    </div>
                    <p style="margin: 0 0 12px 0;">Halte den Buchstaben <strong>gedr√ºckt</strong> ‚Äì es erscheint ein Popup mit allen Akzent-Varianten:</p>

                    <!-- Keyboard Simulation -->
                    <div style="background: #d1d5db; padding: 12px; border-radius: 10px; text-align: center;">
                        <!-- Popup -->
                        <div style="display: inline-block; background: #fff; border-radius: 8px; padding: 8px 4px; margin-bottom: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
                            <div style="display: flex; gap: 2px;">
                                <span style="width: 32px; height: 36px; background: #f3f4f6; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; position: relative;">√®<span style="position: absolute; top: 2px; left: 4px; font-size: 0.5em; color: #888;">1</span></span>
                                <span style="width: 32px; height: 36px; background: var(--spanisch); color: white; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; font-weight: bold; position: relative;">√©<span style="position: absolute; top: 2px; left: 4px; font-size: 0.5em; color: rgba(255,255,255,0.8);">2</span></span>
                                <span style="width: 32px; height: 36px; background: #f3f4f6; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; position: relative;">√™<span style="position: absolute; top: 2px; left: 4px; font-size: 0.5em; color: #888;">3</span></span>
                                <span style="width: 32px; height: 36px; background: #f3f4f6; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; position: relative;">√´<span style="position: absolute; top: 2px; left: 4px; font-size: 0.5em; color: #888;">4</span></span>
                                <span style="width: 32px; height: 36px; background: #f3f4f6; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; position: relative;">ƒì<span style="position: absolute; top: 2px; left: 4px; font-size: 0.5em; color: #888;">5</span></span>
                                <span style="width: 32px; height: 36px; background: #f3f4f6; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; position: relative;">ƒô<span style="position: absolute; top: 2px; left: 4px; font-size: 0.5em; color: #888;">6</span></span>
                            </div>
                        </div>
                        <!-- Keyboard row -->
                        <div style="display: flex; justify-content: center; gap: 4px;">
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">q</span>
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">w</span>
                            <span style="width: 28px; height: 38px; background: var(--spanisch); color: white; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; font-weight: bold; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">e</span>
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">r</span>
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">t</span>
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">z</span>
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">u</span>
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">i</span>
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">o</span>
                            <span style="width: 28px; height: 38px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.95em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">p</span>
                        </div>
                    </div>
                    <p style="margin: 10px 0 0 0; font-size: 0.9em; text-align: center;">
                        üëÜ Halte <strong>e</strong> gedr√ºckt ‚Üí w√§hle <strong style="color: var(--spanisch);">√©</strong> durch Tippen oder Taste <strong>2</strong>
                    </p>

                    <!-- √± auf iPad/Mac -->
                    <div style="margin-top: 15px; padding-top: 12px; border-top: 1px dashed #ccc;">
                        <p style="margin: 0 0 8px 0; font-size: 0.9em; text-align: center;">
                            <strong>F√ºr √±:</strong> Halte <strong>n</strong> gedr√ºckt ‚Üí w√§hle <strong style="color: var(--spanisch);">√±</strong>
                        </p>
                        <div style="display: flex; justify-content: center; gap: 3px;">
                            <span style="width: 30px; height: 34px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1em; box-shadow: 0 1px 2px rgba(0,0,0,0.15);">≈Ñ</span>
                            <span style="width: 30px; height: 34px; background: var(--spanisch); color: white; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1em; font-weight: bold; box-shadow: 0 1px 2px rgba(0,0,0,0.15);">√±</span>
                            <span style="width: 30px; height: 34px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1em; box-shadow: 0 1px 2px rgba(0,0,0,0.15);">≈à</span>
                        </div>
                    </div>
                </div>

                <!-- Methode 2: Deutsche Mac-Tastatur -->
                <div style="margin: 15px 0; padding: 15px; background: #fff; border: 1px solid var(--border); border-radius: 8px;">
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 10px;">
                        <span style="font-size: 1.3em;">‚å®Ô∏è</span>
                        <strong>Mac mit deutscher Tastatur ‚Äì Alternative:</strong>
                    </div>

                    <!-- German keyboard accent key illustration -->
                    <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                        <div style="background: #e5e7eb; padding: 10px; border-radius: 8px;">
                            <div style="display: flex; gap: 4px; align-items: center;">
                                <span style="width: 36px; height: 36px; background: var(--spanisch); color: white; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; font-weight: bold; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">¬¥</span>
                                <span style="font-size: 1.2em; color: #666;">+</span>
                                <span style="width: 36px; height: 36px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">e</span>
                                <span style="font-size: 1.2em; color: #666;">=</span>
                                <span style="width: 36px; height: 36px; background: var(--success); color: white; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1.1em; font-weight: bold; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">√©</span>
                            </div>
                        </div>
                        <div style="font-size: 0.9em;">
                            Die Taste <code style="background: var(--spanisch); color: white; padding: 2px 6px; border-radius: 3px;">¬¥</code> ist rechts neben <code>√ü</code><br>
                            <span style="color: var(--text-muted);">Erst ¬¥ dr√ºcken, dann den Vokal</span>
                        </div>
                    </div>

                    <!-- √± auf Mac mit Tastenkombination -->
                    <div style="margin-top: 15px; padding-top: 12px; border-top: 1px dashed #ccc;">
                        <p style="margin: 0 0 10px 0; font-size: 0.9em;"><strong>F√ºr √± auf dem Mac:</strong></p>
                        <div style="background: #e5e7eb; padding: 10px; border-radius: 8px; display: inline-block;">
                            <div style="display: flex; gap: 4px; align-items: center;">
                                <span style="height: 32px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 0.8em; padding: 0 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">‚å• Option</span>
                                <span style="font-size: 1em; color: #666;">+</span>
                                <span style="width: 32px; height: 32px; background: var(--spanisch); color: white; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1em; font-weight: bold; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">n</span>
                                <span style="font-size: 1em; color: #666; margin: 0 4px;">‚Üí</span>
                                <span style="width: 32px; height: 32px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">Àú</span>
                                <span style="font-size: 1em; color: #666; margin: 0 4px;">dann</span>
                                <span style="width: 32px; height: 32px; background: #fff; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1em; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">n</span>
                                <span style="font-size: 1em; color: #666;">=</span>
                                <span style="width: 32px; height: 32px; background: var(--success); color: white; border-radius: 5px; display: flex; align-items: center; justify-content: center; font-size: 1em; font-weight: bold; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">√±</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Kopiervorlage -->
                <div style="margin-top: 12px; padding: 12px; background: #fff; border: 1px dashed var(--border); text-align: center; border-radius: 8px;">
                    <strong>üìã Zum Kopieren:</strong><br>
                    <span style="font-size: 1.5em; letter-spacing: 10px; font-weight: bold; display: inline-block; margin-top: 5px;">√° √© √≠ √≥ √∫ √±</span>
                </div>
            </div>

            <button class="next-btn" onclick="showStation(2)">Weiter zu Station 2 ‚Üí</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- STATION 2: REGELM√ÑSSIGE VERBEN -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="station" id="station2">
            <div class="station-header">
                <div class="station-number">2</div>
                <div class="station-title">Regelm√§√üige Verben im Indefinido</div>
            </div>

            <p>Regelm√§√üige Verben im Indefinido folgen einem klaren Muster. Die Endungen h√§ngen von der Infinitivendung ab: <strong>-ar</strong>, <strong>-er</strong> oder <strong>-ir</strong>.</p>

            <div class="grammar-box">
                <h3>Verben auf -AR: hablar (sprechen)</h3>
                <table class="conj-table">
                    <tr>
                        <th>Pronomen</th>
                        <th>Stamm</th>
                        <th>Endung</th>
                        <th>Form</th>
                    </tr>
                    <tr>
                        <td class="pronoun">yo</td>
                        <td>habl-</td>
                        <td class="ending">-√©</td>
                        <td><strong>habl√©</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">t√∫</td>
                        <td>habl-</td>
                        <td class="ending">-aste</td>
                        <td><strong>hablaste</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">√©l/ella/usted</td>
                        <td>habl-</td>
                        <td class="ending">-√≥</td>
                        <td><strong>habl√≥</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">nosotros/as</td>
                        <td>habl-</td>
                        <td class="ending">-amos</td>
                        <td><strong>hablamos</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">vosotros/as</td>
                        <td>habl-</td>
                        <td class="ending">-asteis</td>
                        <td><strong>hablasteis</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">ellos/ellas/ustedes</td>
                        <td>habl-</td>
                        <td class="ending">-aron</td>
                        <td><strong>hablaron</strong></td>
                    </tr>
                </table>
            </div>

            <div class="grammar-box">
                <h3>Verben auf -ER: comer (essen)</h3>
                <table class="conj-table">
                    <tr>
                        <th>Pronomen</th>
                        <th>Stamm</th>
                        <th>Endung</th>
                        <th>Form</th>
                    </tr>
                    <tr>
                        <td class="pronoun">yo</td>
                        <td>com-</td>
                        <td class="ending">-√≠</td>
                        <td><strong>com√≠</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">t√∫</td>
                        <td>com-</td>
                        <td class="ending">-iste</td>
                        <td><strong>comiste</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">√©l/ella/usted</td>
                        <td>com-</td>
                        <td class="ending">-i√≥</td>
                        <td><strong>comi√≥</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">nosotros/as</td>
                        <td>com-</td>
                        <td class="ending">-imos</td>
                        <td><strong>comimos</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">vosotros/as</td>
                        <td>com-</td>
                        <td class="ending">-isteis</td>
                        <td><strong>comisteis</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">ellos/ellas/ustedes</td>
                        <td>com-</td>
                        <td class="ending">-ieron</td>
                        <td><strong>comieron</strong></td>
                    </tr>
                </table>
            </div>

            <div class="grammar-box">
                <h3>Verben auf -IR: vivir (leben)</h3>
                <table class="conj-table">
                    <tr>
                        <th>Pronomen</th>
                        <th>Stamm</th>
                        <th>Endung</th>
                        <th>Form</th>
                    </tr>
                    <tr>
                        <td class="pronoun">yo</td>
                        <td>viv-</td>
                        <td class="ending">-√≠</td>
                        <td><strong>viv√≠</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">t√∫</td>
                        <td>viv-</td>
                        <td class="ending">-iste</td>
                        <td><strong>viviste</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">√©l/ella/usted</td>
                        <td>viv-</td>
                        <td class="ending">-i√≥</td>
                        <td><strong>vivi√≥</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">nosotros/as</td>
                        <td>viv-</td>
                        <td class="ending">-imos</td>
                        <td><strong>vivimos</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">vosotros/as</td>
                        <td>viv-</td>
                        <td class="ending">-isteis</td>
                        <td><strong>vivisteis</strong></td>
                    </tr>
                    <tr>
                        <td class="pronoun">ellos/ellas/ustedes</td>
                        <td>viv-</td>
                        <td class="ending">-ieron</td>
                        <td><strong>vivieron</strong></td>
                    </tr>
                </table>
            </div>

            <div class="tip">
                <strong>Merke:</strong>
                <ul>
                    <li>-ER und -IR Verben haben die <strong>gleichen Endungen</strong> im Indefinido!</li>
                    <li>Die 1. Person (yo) und 3. Person (√©l/ella) haben immer einen <strong>Akzent</strong>: -√©/-√≥ oder -√≠/-i√≥</li>
                    <li>Die nosotros-Form ist bei -AR und -IR gleich wie im Pr√§sens!</li>
                </ul>
            </div>

            <button class="next-btn" onclick="showStation(3)">Weiter zu Station 3 ‚Üí</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- STATION 3: √úBUNGEN REGELM√ÑSSIGE VERBEN -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="station" id="station3">
            <div class="station-header">
                <div class="station-number">3</div>
                <div class="station-title">√úbungen: Regelm√§√üige Verben</div>
            </div>

            <div class="accent-warning">
                <p><strong>Akzente sind Pflicht!</strong> Ohne korrekten Akzent gilt die Antwort als falsch.</p>
                <p>Kopiervorlage: <strong style="font-size: 1.1em; letter-spacing: 3px;">√° √© √≠ √≥ √∫</strong></p>
            </div>

            <!-- Exercise 1: Fill in conjugation -->
            <div class="exercise" id="ex3a">
                <h3>√úbung 1: Konjugiere das Verb im Indefinido</h3>
                <div class="question">1. yo / hablar: <input type="text" id="r1" data-correct="habl√©" placeholder="..."></div>
                <div class="question">2. t√∫ / comer: <input type="text" id="r2" data-correct="comiste" placeholder="..."></div>
                <div class="question">3. √©l / vivir: <input type="text" id="r3" data-correct="vivi√≥" placeholder="..."></div>
                <div class="question">4. nosotros / estudiar: <input type="text" id="r4" data-correct="estudiamos" placeholder="..."></div>
                <div class="question">5. ellas / beber: <input type="text" id="r5" data-correct="bebieron" placeholder="..."></div>
                <div class="question">6. yo / escribir: <input type="text" id="r6" data-correct="escrib√≠" placeholder="..."></div>
                <div class="question">7. usted / trabajar: <input type="text" id="r7" data-correct="trabaj√≥" placeholder="..."></div>
                <div class="question">8. vosotros / aprender: <input type="text" id="r8" data-correct="aprendisteis" placeholder="..."></div>
                <button class="check-btn" onclick="checkExercise('ex3a', ['r1','r2','r3','r4','r5','r6','r7','r8'])">√úberpr√ºfen</button>
                <div id="feedback-ex3a" class="feedback" style="display: none;"></div>
            </div>

            <!-- Exercise 2: Complete the sentences -->
            <div class="exercise" id="ex3b">
                <h3>√úbung 2: Vervollst√§ndige die S√§tze</h3>
                <div class="question">1. Ayer yo <input type="text" id="s1" data-correct="compr√©" placeholder="..."> (comprar) un libro.</div>
                <div class="question">2. Mar√≠a <input type="text" id="s2" data-correct="bail√≥" placeholder="..."> (bailar) toda la noche.</div>
                <div class="question">3. Nosotros <input type="text" id="s3" data-correct="comimos" placeholder="..."> (comer) en un restaurante.</div>
                <div class="question">4. ¬øT√∫ <input type="text" id="s4" data-correct="recibiste" placeholder="..."> (recibir) mi mensaje?</div>
                <div class="question">5. Los estudiantes <input type="text" id="s5" data-correct="terminaron" placeholder="..."> (terminar) el examen.</div>
                <div class="question">6. Mi hermano <input type="text" id="s6" data-correct="vendi√≥" placeholder="..."> (vender) su coche.</div>
                <button class="check-btn" onclick="checkExercise('ex3b', ['s1','s2','s3','s4','s5','s6'])">√úberpr√ºfen</button>
                <div id="feedback-ex3b" class="feedback" style="display: none;"></div>
            </div>

            <!-- Exercise 3: Translation -->
            <div class="exercise" id="ex3c">
                <h3>√úbung 3: √úbersetze ins Spanische (nur das Verb)</h3>
                <div class="question">1. ich tanzte = <input type="text" id="t1" data-correct="bail√©" placeholder="..."></div>
                <div class="question">2. sie (Sg.) schrieb = <input type="text" id="t2" data-correct="escribi√≥" placeholder="..."></div>
                <div class="question">3. wir lernten = <input type="text" id="t3" data-correct="aprendimos" placeholder="..."></div>
                <div class="question">4. du trankst = <input type="text" id="t4" data-correct="bebiste" placeholder="..."></div>
                <div class="question">5. sie (Pl.) √∂ffneten = <input type="text" id="t5" data-correct="abrieron" placeholder="..."></div>
                <div class="question">6. er reiste = <input type="text" id="t6" data-correct="viaj√≥" placeholder="..."></div>
                <button class="check-btn" onclick="checkExercise('ex3c', ['t1','t2','t3','t4','t5','t6'])">√úberpr√ºfen</button>
                <div id="feedback-ex3c" class="feedback" style="display: none;"></div>
            </div>

            <button class="next-btn" onclick="showStation(4)">Weiter zu Station 4 ‚Üí</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- STATION 4: UNREGELM√ÑSSIGE VERBEN -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="station" id="station4">
            <div class="station-header">
                <div class="station-number">4</div>
                <div class="station-title">Unregelm√§√üige Verben im Indefinido</div>
            </div>

            <p>Viele wichtige Verben sind im Indefinido unregelm√§√üig. Die gute Nachricht: Sie folgen oft √§hnlichen Mustern!</p>

            <div class="accent-warning">
                <p><strong>Wichtig:</strong> Unregelm√§√üige Verben haben <strong>KEINE Akzente</strong> auf der Endung (au√üer yo bei dar: di)!</p>
                <p>Vergleiche: <span class="es">habl√©</span> (regelm√§√üig) vs. <span class="es">tuve</span> (unregelm√§√üig)</p>
            </div>

            <!-- SER / IR -->
            <div class="grammar-box">
                <h3>ser (sein) / ir (gehen) ‚Äì identische Formen!</h3>
                <table class="conj-table">
                    <tr><th>yo</th><th>t√∫</th><th>√©l/ella</th><th>nosotros</th><th>vosotros</th><th>ellos</th></tr>
                    <tr>
                        <td><strong>fui</strong></td>
                        <td><strong>fuiste</strong></td>
                        <td><strong>fue</strong></td>
                        <td><strong>fuimos</strong></td>
                        <td><strong>fuisteis</strong></td>
                        <td><strong>fueron</strong></td>
                    </tr>
                </table>
                <p class="de">Der Kontext zeigt, ob "sein" oder "gehen" gemeint ist.</p>
            </div>

            <!-- Pattern groups -->
            <div class="pattern-grid">
                <div class="pattern-box">
                    <h4>U-Stamm</h4>
                    <ul>
                        <li><strong>estar</strong> ‚Üí estuv-</li>
                        <li><strong>tener</strong> ‚Üí tuv-</li>
                        <li><strong>poder</strong> ‚Üí pud-</li>
                        <li><strong>poner</strong> ‚Üí pus-</li>
                        <li><strong>saber</strong> ‚Üí sup-</li>
                    </ul>
                </div>
                <div class="pattern-box">
                    <h4>I-Stamm</h4>
                    <ul>
                        <li><strong>hacer</strong> ‚Üí hic- (hiz-)</li>
                        <li><strong>venir</strong> ‚Üí vin-</li>
                        <li><strong>querer</strong> ‚Üí quis-</li>
                    </ul>
                </div>
                <div class="pattern-box">
                    <h4>J-Stamm</h4>
                    <ul>
                        <li><strong>decir</strong> ‚Üí dij-</li>
                        <li><strong>traer</strong> ‚Üí traj-</li>
                        <li><strong>conducir</strong> ‚Üí conduj-</li>
                    </ul>
                </div>
            </div>

            <div class="grammar-box">
                <h3>Endungen f√ºr unregelm√§√üige Verben (U/I-Stamm)</h3>
                <div style="display: flex; justify-content: center; gap: 40px; margin: 20px 0;">
                    <table class="conj-table" style="width: auto;">
                        <tr><th colspan="2" style="text-align: center;">Singular</th></tr>
                        <tr><td class="pronoun">yo</td><td class="ending">-e</td></tr>
                        <tr><td class="pronoun">t√∫</td><td class="ending">-iste</td></tr>
                        <tr><td class="pronoun">√©l/ella/usted</td><td class="ending">-o</td></tr>
                    </table>
                    <table class="conj-table" style="width: auto;">
                        <tr><th colspan="2" style="text-align: center;">Plural</th></tr>
                        <tr><td class="pronoun">nosotros/as</td><td class="ending">-imos</td></tr>
                        <tr><td class="pronoun">vosotros/as</td><td class="ending">-isteis</td></tr>
                        <tr><td class="pronoun">ellos/ellas/ustedes</td><td class="ending">-ieron</td></tr>
                    </table>
                </div>
                <p><strong>Beispiel tener:</strong> tuve, tuviste, tuvo, tuvimos, tuvisteis, tuvieron</p>
            </div>

            <div class="grammar-box">
                <h3>J-Stamm: Besondere Endung in der 3. Person Plural</h3>
                <div style="display: flex; justify-content: center; gap: 40px; margin: 20px 0;">
                    <table class="conj-table" style="width: auto;">
                        <tr><th colspan="2" style="text-align: center;">Singular</th></tr>
                        <tr><td class="pronoun">yo</td><td class="ending">-e</td></tr>
                        <tr><td class="pronoun">t√∫</td><td class="ending">-iste</td></tr>
                        <tr><td class="pronoun">√©l/ella/usted</td><td class="ending">-o</td></tr>
                    </table>
                    <table class="conj-table" style="width: auto;">
                        <tr><th colspan="2" style="text-align: center;">Plural</th></tr>
                        <tr><td class="pronoun">nosotros/as</td><td class="ending">-imos</td></tr>
                        <tr><td class="pronoun">vosotros/as</td><td class="ending">-isteis</td></tr>
                        <tr><td class="pronoun">ellos/ellas/ustedes</td><td class="ending highlight">-eron</td></tr>
                    </table>
                </div>
                <p><strong>Beispiel decir:</strong> dije, dijiste, dijo, dijimos, dijisteis, <strong>dijeron</strong> (nicht *dijieron!)</p>
            </div>

            <!-- DAR -->
            <div class="grammar-box">
                <h3>dar (geben) ‚Äì Sonderfall</h3>
                <table class="conj-table">
                    <tr><th>yo</th><th>t√∫</th><th>√©l/ella</th><th>nosotros</th><th>vosotros</th><th>ellos</th></tr>
                    <tr>
                        <td><strong>di</strong></td>
                        <td><strong>diste</strong></td>
                        <td><strong>dio</strong></td>
                        <td><strong>dimos</strong></td>
                        <td><strong>disteis</strong></td>
                        <td><strong>dieron</strong></td>
                    </tr>
                </table>
            </div>

            <!-- Complete conjugation tables -->
            <div class="grammar-box">
                <h3>Vollst√§ndige Konjugationstabelle: Wichtige unregelm√§√üige Verben</h3>
                <table class="conj-table" style="font-size: 0.85em;">
                    <tr>
                        <th>Infinitiv</th>
                        <th>yo</th>
                        <th>t√∫</th>
                        <th>√©l/ella</th>
                        <th>nosotros</th>
                        <th>ellos</th>
                    </tr>
                    <tr><td><strong>estar</strong></td><td>estuve</td><td>estuviste</td><td>estuvo</td><td>estuvimos</td><td>estuvieron</td></tr>
                    <tr><td><strong>tener</strong></td><td>tuve</td><td>tuviste</td><td>tuvo</td><td>tuvimos</td><td>tuvieron</td></tr>
                    <tr><td><strong>poder</strong></td><td>pude</td><td>pudiste</td><td>pudo</td><td>pudimos</td><td>pudieron</td></tr>
                    <tr><td><strong>poner</strong></td><td>puse</td><td>pusiste</td><td>puso</td><td>pusimos</td><td>pusieron</td></tr>
                    <tr><td><strong>saber</strong></td><td>supe</td><td>supiste</td><td>supo</td><td>supimos</td><td>supieron</td></tr>
                    <tr><td><strong>hacer</strong></td><td>hice</td><td>hiciste</td><td>hizo</td><td>hicimos</td><td>hicieron</td></tr>
                    <tr><td><strong>venir</strong></td><td>vine</td><td>viniste</td><td>vino</td><td>vinimos</td><td>vinieron</td></tr>
                    <tr><td><strong>querer</strong></td><td>quise</td><td>quisiste</td><td>quiso</td><td>quisimos</td><td>quisieron</td></tr>
                    <tr><td><strong>decir</strong></td><td>dije</td><td>dijiste</td><td>dijo</td><td>dijimos</td><td>dijeron</td></tr>
                    <tr><td><strong>traer</strong></td><td>traje</td><td>trajiste</td><td>trajo</td><td>trajimos</td><td>trajeron</td></tr>
                </table>
            </div>

            <div class="tip">
                <strong>Lerntipp:</strong> Lerne die Stammformen auswendig (tuv-, pud-, hic-, dij-...). Die Endungen sind dann immer gleich!
            </div>

            <button class="next-btn" onclick="showStation(5)">Weiter zu Station 5 ‚Üí</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- STATION 5: √úBUNGEN UNREGELM√ÑSSIGE VERBEN -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="station" id="station5">
            <div class="station-header">
                <div class="station-number">5</div>
                <div class="station-title">√úbungen: Unregelm√§√üige Verben</div>
            </div>

            <!-- Exercise 1: Irregular conjugation -->
            <div class="exercise" id="ex5a">
                <h3>√úbung 1: Konjugiere die unregelm√§√üigen Verben</h3>
                <div class="question">1. yo / ir: <input type="text" id="i1" data-correct="fui" placeholder="..."></div>
                <div class="question">2. ella / estar: <input type="text" id="i2" data-correct="estuvo" placeholder="..."></div>
                <div class="question">3. nosotros / tener: <input type="text" id="i3" data-correct="tuvimos" placeholder="..."></div>
                <div class="question">4. t√∫ / hacer: <input type="text" id="i4" data-correct="hiciste" placeholder="..."></div>
                <div class="question">5. ellos / decir: <input type="text" id="i5" data-correct="dijeron" placeholder="..."></div>
                <div class="question">6. usted / poder: <input type="text" id="i6" data-correct="pudo" placeholder="..."></div>
                <div class="question">7. yo / venir: <input type="text" id="i7" data-correct="vine" placeholder="..."></div>
                <div class="question">8. √©l / ser: <input type="text" id="i8" data-correct="fue" placeholder="..."></div>
                <button class="check-btn" onclick="checkExercise('ex5a', ['i1','i2','i3','i4','i5','i6','i7','i8'])">√úberpr√ºfen</button>
                <div id="feedback-ex5a" class="feedback" style="display: none;"></div>
            </div>

            <!-- Exercise 2: Complete sentences with irregular verbs -->
            <div class="exercise" id="ex5b">
                <h3>√úbung 2: Vervollst√§ndige die S√§tze</h3>
                <div class="question">1. Ayer <input type="text" id="j1" data-correct="fui" placeholder="..."> (ir, yo) al cine.</div>
                <div class="question">2. Mar√≠a no <input type="text" id="j2" data-correct="pudo" placeholder="..."> (poder) venir a la fiesta.</div>
                <div class="question">3. ¬øQu√© te <input type="text" id="j3" data-correct="dijo" placeholder="..."> (decir) el profesor?</div>
                <div class="question">4. Nosotros <input type="text" id="j4" data-correct="estuvimos" placeholder="..."> (estar) en Madrid.</div>
                <div class="question">5. Ellos <input type="text" id="j5" data-correct="trajeron" placeholder="..."> (traer) los regalos.</div>
                <div class="question">6. Mi padre <input type="text" id="j6" data-correct="hizo" placeholder="..."> (hacer) una paella deliciosa.</div>
                <button class="check-btn" onclick="checkExercise('ex5b', ['j1','j2','j3','j4','j5','j6'])">√úberpr√ºfen</button>
                <div id="feedback-ex5b" class="feedback" style="display: none;"></div>
            </div>

            <!-- Exercise 3: Mixed regular and irregular -->
            <div class="exercise" id="ex5c">
                <h3>√úbung 3: Gemischt ‚Äì regelm√§√üig und unregelm√§√üig</h3>
                <div class="question">1. Ayer yo <input type="text" id="m1" data-correct="habl√©" placeholder="..."> (hablar) con mi madre.</div>
                <div class="question">2. Ella <input type="text" id="m2" data-correct="tuvo" placeholder="..."> (tener) un problema.</div>
                <div class="question">3. Nosotros <input type="text" id="m3" data-correct="comimos" placeholder="..."> (comer) a las dos.</div>
                <div class="question">4. ¬øT√∫ <input type="text" id="m4" data-correct="fuiste" placeholder="..."> (ir) a la playa?</div>
                <div class="question">5. Los ni√±os <input type="text" id="m5" data-correct="jugaron" placeholder="..."> (jugar) en el parque.</div>
                <div class="question">6. Yo no <input type="text" id="m6" data-correct="supe" placeholder="..."> (saber) la respuesta.</div>
                <button class="check-btn" onclick="checkExercise('ex5c', ['m1','m2','m3','m4','m5','m6'])">√úberpr√ºfen</button>
                <div id="feedback-ex5c" class="feedback" style="display: none;"></div>
            </div>

            <button class="next-btn" onclick="showStation(6)">Weiter zu Station 6 ‚Üí</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- STATION 6: INDEFINIDO VS. PERFECTO -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="station" id="station6">
            <div class="station-header">
                <div class="station-number">6</div>
                <div class="station-title">Pret√©rito Indefinido vs. Pret√©rito Perfecto</div>
            </div>

            <p>Beide Zeiten dr√ºcken die Vergangenheit aus, aber sie werden mit <strong>unterschiedlichen Zeitangaben</strong> verwendet.</p>

            <div class="comparison-grid">
                <div class="comparison-box indefinido">
                    <h4 style="color: var(--spanisch);">Pret√©rito Indefinido</h4>
                    <p>Abgeschlossene Handlungen, <strong>kein Bezug zur Gegenwart</strong></p>
                    <ul>
                        <li><strong>ayer</strong> ‚Äì gestern</li>
                        <li><strong>anteayer</strong> ‚Äì vorgestern</li>
                        <li><strong>la semana pasada</strong> ‚Äì letzte Woche</li>
                        <li><strong>el mes pasado</strong> ‚Äì letzten Monat</li>
                        <li><strong>el a√±o pasado</strong> ‚Äì letztes Jahr</li>
                        <li><strong>en 2020</strong> ‚Äì im Jahr 2020</li>
                        <li><strong>hace dos d√≠as</strong> ‚Äì vor zwei Tagen</li>
                        <li><strong>el lunes (pasado)</strong> ‚Äì (letzten) Montag</li>
                        <li><strong>aquel d√≠a</strong> ‚Äì an jenem Tag</li>
                    </ul>
                </div>
                <div class="comparison-box perfecto">
                    <h4 style="color: var(--info);">Pret√©rito Perfecto</h4>
                    <p>Handlungen mit <strong>Bezug zur Gegenwart</strong></p>
                    <ul>
                        <li><strong>hoy</strong> ‚Äì heute</li>
                        <li><strong>esta ma√±ana</strong> ‚Äì heute Morgen</li>
                        <li><strong>esta semana</strong> ‚Äì diese Woche</li>
                        <li><strong>este mes</strong> ‚Äì diesen Monat</li>
                        <li><strong>este a√±o</strong> ‚Äì dieses Jahr</li>
                        <li><strong>todav√≠a</strong> ‚Äì noch</li>
                        <li><strong>ya</strong> ‚Äì schon</li>
                        <li><strong>nunca</strong> ‚Äì nie</li>
                        <li><strong>alguna vez</strong> ‚Äì jemals</li>
                        <li><strong>siempre</strong> ‚Äì immer</li>
                    </ul>
                </div>
            </div>

            <div class="grammar-box">
                <h3>Beispiele im Vergleich</h3>
                <table class="conj-table">
                    <tr>
                        <th>Indefinido</th>
                        <th>Perfecto</th>
                    </tr>
                    <tr>
                        <td><span class="es">Ayer <strong>com√≠</strong> pizza.</span><br><span class="de">Gestern a√ü ich Pizza.</span></td>
                        <td><span class="es">Hoy <strong>he comido</strong> pizza.</span><br><span class="de">Heute habe ich Pizza gegessen.</span></td>
                    </tr>
                    <tr>
                        <td><span class="es">La semana pasada <strong>fui</strong> al cine.</span><br><span class="de">Letzte Woche ging ich ins Kino.</span></td>
                        <td><span class="es">Esta semana <strong>he ido</strong> al cine.</span><br><span class="de">Diese Woche bin ich ins Kino gegangen.</span></td>
                    </tr>
                    <tr>
                        <td><span class="es">En 2020 <strong>viaj√©</strong> a Espa√±a.</span><br><span class="de">2020 reiste ich nach Spanien.</span></td>
                        <td><span class="es">Este a√±o <strong>he viajado</strong> a Espa√±a.</span><br><span class="de">Dieses Jahr bin ich nach Spanien gereist.</span></td>
                    </tr>
                </table>
            </div>

            <!-- Multiple choice exercise -->
            <div class="exercise" id="ex6a">
                <h3>√úbung: Welche Zeit passt? W√§hle Indefinido oder Perfecto</h3>

                <div class="question" id="mc1">
                    <p>1. <strong>Ayer</strong> ______ a casa muy tarde.</p>
                    <div class="mc-options">
                        <div class="mc-option" onclick="selectMC(this, 'mc1', true)">llegu√© (Indefinido)</div>
                        <div class="mc-option" onclick="selectMC(this, 'mc1', false)">he llegado (Perfecto)</div>
                    </div>
                </div>

                <div class="question" id="mc2">
                    <p>2. <strong>Esta ma√±ana</strong> ______ un caf√©.</p>
                    <div class="mc-options">
                        <div class="mc-option" onclick="selectMC(this, 'mc2', false)">tom√© (Indefinido)</div>
                        <div class="mc-option" onclick="selectMC(this, 'mc2', true)">he tomado (Perfecto)</div>
                    </div>
                </div>

                <div class="question" id="mc3">
                    <p>3. <strong>El a√±o pasado</strong> ______ a mi abuela.</p>
                    <div class="mc-options">
                        <div class="mc-option" onclick="selectMC(this, 'mc3', true)">visit√© (Indefinido)</div>
                        <div class="mc-option" onclick="selectMC(this, 'mc3', false)">he visitado (Perfecto)</div>
                    </div>
                </div>

                <div class="question" id="mc4">
                    <p>4. ¬ø<strong>Alguna vez</strong> ______ a M√©xico?</p>
                    <div class="mc-options">
                        <div class="mc-option" onclick="selectMC(this, 'mc4', false)">fuiste (Indefinido)</div>
                        <div class="mc-option" onclick="selectMC(this, 'mc4', true)">has ido (Perfecto)</div>
                    </div>
                </div>

                <div class="question" id="mc5">
                    <p>5. <strong>Hace tres d√≠as</strong> ______ un examen.</p>
                    <div class="mc-options">
                        <div class="mc-option" onclick="selectMC(this, 'mc5', true)">tuve (Indefinido)</div>
                        <div class="mc-option" onclick="selectMC(this, 'mc5', false)">he tenido (Perfecto)</div>
                    </div>
                </div>

                <div class="question" id="mc6">
                    <p>6. <strong>Todav√≠a</strong> no ______ los deberes.</p>
                    <div class="mc-options">
                        <div class="mc-option" onclick="selectMC(this, 'mc6', false)">hice (Indefinido)</div>
                        <div class="mc-option" onclick="selectMC(this, 'mc6', true)">he hecho (Perfecto)</div>
                    </div>
                </div>

                <div id="feedback-mc" class="feedback" style="display: none;"></div>
            </div>

            <button class="next-btn" onclick="showStation(7)">Weiter zu Station 7 ‚Üí</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- STATION 7: SPIELE -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="station" id="station7">
            <div class="station-header">
                <div class="station-number">7</div>
                <div class="station-title">Spiele und interaktive √úbungen</div>
            </div>

            <!-- FLASHCARD GAME -->
            <div class="grammar-box">
                <h3>Flashcard-Spiel: Konjugiere schnell!</h3>
                <p>Tippe auf die Karte, um die Antwort zu sehen. Dann wische:</p>

                <div class="fc-score">
                    Karte <span id="fcCurrent">1</span> / <span id="fcTotal">10</span> |
                    <span class="correct-count" id="fcCorrect">0</span> richtig |
                    <span class="wrong-count" id="fcWrong">0</span> falsch
                </div>

                <div class="flashcard-area" id="flashcardArea">
                    <div class="swipe-hint left" id="swipeHintLeft">‚úó</div>
                    <div class="swipe-hint right" id="swipeHintRight">‚úì</div>
                    <div class="flashcard" id="flashcard">
                        <div class="flashcard-face flashcard-front">
                            <div class="card-prompt" id="fcPrompt">yo / hablar</div>
                            <div class="card-verb" id="fcVerb">Indefinido?</div>
                        </div>
                        <div class="flashcard-face flashcard-back">
                            <div class="card-answer" id="fcAnswer">habl√©</div>
                            <div class="card-hint" id="fcHint">hablar ‚Üí habl√©, hablaste, habl√≥...</div>
                        </div>
                    </div>
                </div>

                <div class="swipe-instruction">
                    <span><span class="icon-left">‚Üê wischen</span> = nicht gewusst</span>
                    <span><span class="icon-right">wischen ‚Üí</span> = gewusst!</span>
                </div>

                <div class="flashcard-controls" id="fcControls" style="display: none;">
                    <button class="fc-btn wrong" onclick="markFlashcard(false)">‚úó Nicht gewusst</button>
                    <button class="fc-btn correct" onclick="markFlashcard(true)">‚úì Gewusst!</button>
                </div>

                <div class="flashcard-controls">
                    <button class="fc-btn shuffle" onclick="shuffleFlashcards()">Neu mischen</button>
                    <button class="fc-btn next" onclick="resetFlashcards()">Von vorne</button>
                </div>
            </div>

            <!-- QUICK QUIZ -->
            <div class="grammar-box" style="margin-top: 30px;">
                <h3>Schnellquiz: 10 Fragen</h3>
                <p>Teste dein Wissen mit einem schnellen Quiz!</p>

                <div id="quickQuiz">
                    <div class="question" id="qq1">
                        <p><strong>1.</strong> Welche Form ist korrekt? "Ayer yo _____ (ir) al parque."</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq1', true)">fui</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq1', false)">fue</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq1', false)">iba</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq1', false)">he ido</div>
                        </div>
                    </div>

                    <div class="question" id="qq2">
                        <p><strong>2.</strong> "Ella _____ (tener) mucha suerte." (Indefinido)</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq2', false)">teni√≥</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq2', true)">tuvo</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq2', false)">tuve</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq2', false)">tuv√≠</div>
                        </div>
                    </div>

                    <div class="question" id="qq3">
                        <p><strong>3.</strong> Welche Zeitangabe passt zum Indefinido?</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq3', false)">esta semana</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq3', false)">todav√≠a</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq3', true)">el a√±o pasado</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq3', false)">hoy</div>
                        </div>
                    </div>

                    <div class="question" id="qq4">
                        <p><strong>4.</strong> "Nosotros _____ (hacer) los deberes." (Indefinido)</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq4', false)">hacemos</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq4', true)">hicimos</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq4', false)">hacimos</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq4', false)">hizimos</div>
                        </div>
                    </div>

                    <div class="question" id="qq5">
                        <p><strong>5.</strong> "Ellos _____ (decir) la verdad." (Indefinido)</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq5', false)">dicieron</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq5', false)">decieron</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq5', true)">dijeron</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq5', false)">dijieron</div>
                        </div>
                    </div>

                    <div class="question" id="qq6">
                        <p><strong>6.</strong> "Yo _____ (estar) en casa." (Indefinido)</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq6', true)">estuve</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq6', false)">estuv√©</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq6', false)">estuv√≠</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq6', false)">estaba</div>
                        </div>
                    </div>

                    <div class="question" id="qq7">
                        <p><strong>7.</strong> Welche Endung hat die t√∫-Form bei -AR Verben im Indefinido?</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq7', false)">-iste</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq7', true)">-aste</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq7', false)">-√≥</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq7', false)">-√©</div>
                        </div>
                    </div>

                    <div class="question" id="qq8">
                        <p><strong>8.</strong> ser und ir haben im Indefinido...</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq8', true)">identische Formen</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq8', false)">verschiedene Formen</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq8', false)">regelm√§√üige Formen</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq8', false)">keine Formen</div>
                        </div>
                    </div>

                    <div class="question" id="qq9">
                        <p><strong>9.</strong> "Mar√≠a _____ (bailar) toda la noche." (Indefinido)</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq9', false)">bailo</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq9', true)">bail√≥</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq9', false)">bail√©</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq9', false)">bailaba</div>
                        </div>
                    </div>

                    <div class="question" id="qq10">
                        <p><strong>10.</strong> Mit welcher Zeitangabe verwendet man das Perfecto?</p>
                        <div class="mc-options">
                            <div class="mc-option" onclick="selectQuiz(this, 'qq10', false)">ayer</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq10', false)">hace dos d√≠as</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq10', false)">el lunes pasado</div>
                            <div class="mc-option" onclick="selectQuiz(this, 'qq10', true)">esta semana</div>
                        </div>
                    </div>
                </div>

                <div class="score-display" id="quizScore" style="display: none;">
                    <div class="score" id="quizScoreNum">0/10</div>
                    <div class="label">Richtige Antworten</div>
                </div>
            </div>

            <button class="next-btn" onclick="showStation(8)">Weiter zu Station 8 ‚Üí</button>
        </div>

        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <!-- STATION 8: ERWEITERUNGSAUFGABEN -->
        <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
        <div class="station" id="station8">
            <div class="station-header">
                <div class="station-number">8</div>
                <div class="station-title">Erweiterungsaufgaben <span class="extension-badge">EXTRA</span></div>
            </div>

            <p>Du hast die Grundlagen gemeistert? Hier sind zus√§tzliche Herausforderungen!</p>

            <!-- Schreibaufgabe als Anleitung (ohne Freitext) -->
            <div class="grammar-box">
                <h3>Schreibaufgabe f√ºr dein Heft: ¬øQu√© hiciste ayer?</h3>
                <p>Schreibe <strong>in dein Heft</strong> einen kurzen Text (mindestens 6 S√§tze) dar√ºber, was du gestern gemacht hast.</p>

                <div class="tip">
                    <strong>N√ºtzliche Verben:</strong>
                    <table class="conj-table" style="margin-top: 8px; font-size: 0.85em;">
                        <tr><th>Infinitiv</th><th>yo</th><th>Bedeutung</th></tr>
                        <tr><td>levantarse</td><td>me levant√©</td><td>aufstehen</td></tr>
                        <tr><td>desayunar</td><td>desayun√©</td><td>fr√ºhst√ºcken</td></tr>
                        <tr><td>ir</td><td>fui</td><td>gehen</td></tr>
                        <tr><td>comer</td><td>com√≠</td><td>essen</td></tr>
                        <tr><td>hacer</td><td>hice</td><td>machen</td></tr>
                        <tr><td>ver</td><td>vi</td><td>sehen</td></tr>
                        <tr><td>jugar</td><td>jugu√©</td><td>spielen</td></tr>
                        <tr><td>volver</td><td>volv√≠</td><td>zur√ºckkehren</td></tr>
                        <tr><td>cenar</td><td>cen√©</td><td>zu Abend essen</td></tr>
                        <tr><td>acostarse</td><td>me acost√©</td><td>ins Bett gehen</td></tr>
                    </table>
                </div>

                <div class="tip" style="margin-top: 10px;">
                    <strong>Checkliste:</strong>
                    <ul>
                        <li>Mindestens 6 S√§tze</li>
                        <li>Verschiedene Verben verwenden</li>
                        <li>Akzente korrekt setzen (habl√©, com√≠, fue...)</li>
                        <li>Zeitangaben verwenden (ayer, por la ma√±ana, a las tres...)</li>
                    </ul>
                </div>

                <div style="background: var(--spanisch-light); padding: 10px; margin-top: 10px; border-radius: 5px;">
                    <strong>Beispielanfang:</strong><br>
                    <span class="es">Ayer me levant√© a las siete. Desayun√© cereales con leche. Despu√©s fui al colegio...</span>
                </div>
            </div>

            <!-- Advanced Irregular Verbs -->
            <div class="exercise" id="ex8a">
                <h3>Fortgeschritten: Weitere unregelm√§√üige Verben</h3>
                <div class="question">1. yo / conducir: <input type="text" id="a1" data-correct="conduje" placeholder="..."></div>
                <div class="question">2. ella / producir: <input type="text" id="a2" data-correct="produjo" placeholder="..."></div>
                <div class="question">3. nosotros / andar: <input type="text" id="a3" data-correct="anduvimos" placeholder="..."></div>
                <div class="question">4. t√∫ / caber: <input type="text" id="a4" data-correct="cupiste" placeholder="..."></div>
                <div class="question">5. ellos / traducir: <input type="text" id="a5" data-correct="tradujeron" placeholder="..."></div>
                <div class="question">6. yo / proponer: <input type="text" id="a6" data-correct="propuse" placeholder="..."></div>
                <button class="check-btn" onclick="checkExercise('ex8a', ['a1','a2','a3','a4','a5','a6'])">√úberpr√ºfen</button>
                <div id="feedback-ex8a" class="feedback" style="display: none;"></div>
            </div>

            <!-- Translate full sentences -->
            <div class="exercise" id="ex8b">
                <h3>S√§tze √ºbersetzen (Deutsch ‚Üí Spanisch)</h3>
                <div class="question">
                    <p>1. Gestern ging ich ins Kino.</p>
                    <input type="text" id="tr1" data-correct="Ayer fui al cine." placeholder="..." style="width: 100%;">
                </div>
                <div class="question">
                    <p>2. Maria a√ü eine Pizza.</p>
                    <input type="text" id="tr2" data-correct="Mar√≠a comi√≥ una pizza." placeholder="..." style="width: 100%;">
                </div>
                <div class="question">
                    <p>3. Wir hatten viel Spa√ü.</p>
                    <input type="text" id="tr3" data-correct="Tuvimos mucha diversi√≥n." data-alt="Nos divertimos mucho." placeholder="..." style="width: 100%;">
                </div>
                <div class="question">
                    <p>4. Er sagte die Wahrheit.</p>
                    <input type="text" id="tr4" data-correct="Dijo la verdad." data-alt="√âl dijo la verdad." placeholder="..." style="width: 100%;">
                </div>
                <button class="check-btn" onclick="checkTranslation()">√úberpr√ºfen</button>
                <div id="feedback-ex8b" class="feedback" style="display: none;"></div>
            </div>

            <!-- Self-assessment -->
            <div class="self-assessment">
                <h3>Selbsteinsch√§tzung: Pret√©rito Indefinido</h3>
                <p>Wie sicher f√ºhlst du dich jetzt bei diesem Thema?</p>

                <p style="margin-top: 15px;"><strong>Regelm√§√üige Verben:</strong></p>
                <div class="traffic-light">
                    <label style="border-color: #4caf50;">
                        <input type="radio" name="self1" value="green" style="display:none;">
                        <span style="color: #4caf50;">Sicher</span>
                    </label>
                    <label style="border-color: #ffc107;">
                        <input type="radio" name="self1" value="yellow" style="display:none;">
                        <span style="color: #b8860b;">Unsicher</span>
                    </label>
                    <label style="border-color: #f44336;">
                        <input type="radio" name="self1" value="red" style="display:none;">
                        <span style="color: #f44336;">Brauche Hilfe</span>
                    </label>
                </div>

                <p style="margin-top: 15px;"><strong>Unregelm√§√üige Verben:</strong></p>
                <div class="traffic-light">
                    <label style="border-color: #4caf50;">
                        <input type="radio" name="self2" value="green" style="display:none;">
                        <span style="color: #4caf50;">Sicher</span>
                    </label>
                    <label style="border-color: #ffc107;">
                        <input type="radio" name="self2" value="yellow" style="display:none;">
                        <span style="color: #b8860b;">Unsicher</span>
                    </label>
                    <label style="border-color: #f44336;">
                        <input type="radio" name="self2" value="red" style="display:none;">
                        <span style="color: #f44336;">Brauche Hilfe</span>
                    </label>
                </div>

                <p style="margin-top: 15px;"><strong>Indefinido vs. Perfecto:</strong></p>
                <div class="traffic-light">
                    <label style="border-color: #4caf50;">
                        <input type="radio" name="self3" value="green" style="display:none;">
                        <span style="color: #4caf50;">Sicher</span>
                    </label>
                    <label style="border-color: #ffc107;">
                        <input type="radio" name="self3" value="yellow" style="display:none;">
                        <span style="color: #b8860b;">Unsicher</span>
                    </label>
                    <label style="border-color: #f44336;">
                        <input type="radio" name="self3" value="red" style="display:none;">
                        <span style="color: #f44336;">Brauche Hilfe</span>
                    </label>
                </div>
            </div>

            <div class="grammar-box" style="margin-top: 20px; background: var(--success-light); border-color: var(--success);">
                <h3 style="color: var(--success);">¬°Felicidades!</h3>
                <p>Du hast den Lernpfad zum Pret√©rito Indefinido abgeschlossen! Wiederhole die Stationen, bei denen du noch unsicher bist, oder √ºbe weiter mit den Spielen in Station 7.</p>
            </div>
        </div>
    </div>

    <script>
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // GLOBAL STATE
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    var LERNPFAD_ID = 'spanisch-kl9-indefinido';
    var completedStations = [];

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // STATION NAVIGATION
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    function saveProgress() {
        localStorage.setItem(LERNPFAD_ID + '-completed', JSON.stringify(completedStations));
    }

    function loadProgress() {
        var saved = localStorage.getItem(LERNPFAD_ID + '-completed');
        if (saved) {
            completedStations = JSON.parse(saved);
            updateNavigation();
        }
    }

    function updateNavigation() {
        var btns = document.querySelectorAll('.station-btn');
        for (var i = 0; i < btns.length; i++) {
            var stationNum = i + 1;
            if (completedStations.indexOf(stationNum) !== -1) {
                btns[i].classList.add('completed');
            }
        }
    }

    function showStation(num) {
        var stations = document.querySelectorAll('.station');
        for (var i = 0; i < stations.length; i++) {
            stations[i].classList.remove('active');
        }

        var target = document.getElementById('station' + num);
        if (target) {
            target.classList.add('active');
        }

        var btns = document.querySelectorAll('.station-btn');
        for (var j = 0; j < btns.length; j++) {
            btns[j].classList.remove('active');
            if (j === num - 1) {
                btns[j].classList.add('active');
            }
        }

        if (num > 1 && completedStations.indexOf(num - 1) === -1) {
            completedStations.push(num - 1);
            saveProgress();
            updateNavigation();
        }

        window.scrollTo(0, 0);
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // EXERCISE CHECKING (STRICT ACCENT MATCHING)
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    function normalizeAnswer(str) {
        return str.trim().toLowerCase();
    }

    function checkExercise(exerciseId, inputIds) {
        var correct = 0;
        var total = inputIds.length;

        for (var i = 0; i < inputIds.length; i++) {
            var input = document.getElementById(inputIds[i]);
            var expected = normalizeAnswer(input.getAttribute('data-correct'));
            var userAnswer = normalizeAnswer(input.value);

            input.classList.remove('correct', 'incorrect');

            if (userAnswer === expected) {
                input.classList.add('correct');
                correct++;
            } else if (userAnswer !== '') {
                input.classList.add('incorrect');
            }
        }

        var feedback = document.getElementById('feedback-' + exerciseId);
        feedback.style.display = 'block';

        if (correct === total) {
            feedback.className = 'feedback success';
            feedback.innerHTML = '¬°Perfecto! Alle ' + total + ' Antworten richtig!';
        } else {
            feedback.className = 'feedback error';
            feedback.innerHTML = correct + '/' + total + ' richtig. Achte auf die Akzente (√©, √≥, √≠)!';
        }
    }

    function checkTranslation() {
        var ids = ['tr1', 'tr2', 'tr3', 'tr4'];
        var correct = 0;

        for (var i = 0; i < ids.length; i++) {
            var input = document.getElementById(ids[i]);
            var expected = normalizeAnswer(input.getAttribute('data-correct'));
            var alt = input.getAttribute('data-alt');
            var userAnswer = normalizeAnswer(input.value);

            input.classList.remove('correct', 'incorrect');

            var isCorrect = userAnswer === expected;
            if (!isCorrect && alt) {
                isCorrect = userAnswer === normalizeAnswer(alt);
            }

            if (isCorrect) {
                input.classList.add('correct');
                correct++;
            } else if (userAnswer !== '') {
                input.classList.add('incorrect');
            }
        }

        var feedback = document.getElementById('feedback-ex8b');
        feedback.style.display = 'block';

        if (correct === ids.length) {
            feedback.className = 'feedback success';
            feedback.innerHTML = '¬°Excelente! Alle √úbersetzungen sind korrekt!';
        } else {
            feedback.className = 'feedback error';
            feedback.innerHTML = correct + '/' + ids.length + ' richtig. √úberpr√ºfe Akzente und Satzzeichen!';
        }
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // MULTIPLE CHOICE (Station 6)
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    var mcAnswers = {};
    var mcTotal = 6;

    function selectMC(element, questionId, isCorrect) {
        if (mcAnswers[questionId] !== undefined) return;

        mcAnswers[questionId] = isCorrect;

        var options = element.parentElement.querySelectorAll('.mc-option');
        for (var i = 0; i < options.length; i++) {
            options[i].style.pointerEvents = 'none';
        }

        if (isCorrect) {
            element.classList.add('correct');
        } else {
            element.classList.add('incorrect');
            for (var j = 0; j < options.length; j++) {
                if (options[j] !== element) {
                    options[j].classList.add('correct');
                }
            }
        }

        var answered = Object.keys(mcAnswers).length;
        if (answered === mcTotal) {
            var correctCount = 0;
            for (var key in mcAnswers) {
                if (mcAnswers[key]) correctCount++;
            }

            var feedback = document.getElementById('feedback-mc');
            feedback.style.display = 'block';
            if (correctCount === mcTotal) {
                feedback.className = 'feedback success';
                feedback.innerHTML = '¬°Perfecto! Du verstehst den Unterschied zwischen Indefinido und Perfecto!';
            } else {
                feedback.className = 'feedback error';
                feedback.innerHTML = correctCount + '/' + mcTotal + ' richtig. Schau dir die Zeitangaben nochmal an!';
            }
        }
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // FLASHCARD GAME (Station 7) - with swipe support for iPad
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    var flashcards = [
        {prompt: 'yo / hablar', answer: 'habl√©', hint: '-AR: -√©, -aste, -√≥, -amos, -asteis, -aron'},
        {prompt: 'ella / comer', answer: 'comi√≥', hint: '-ER/-IR: -√≠, -iste, -i√≥, -imos, -isteis, -ieron'},
        {prompt: 'nosotros / vivir', answer: 'vivimos', hint: 'nosotros -IR: gleich wie Pr√§sens!'},
        {prompt: 't√∫ / ir', answer: 'fuiste', hint: 'ir: fui, fuiste, fue, fuimos, fuisteis, fueron'},
        {prompt: 'yo / estar', answer: 'estuve', hint: 'U-Stamm: estuv-'},
        {prompt: '√©l / tener', answer: 'tuvo', hint: 'U-Stamm: tuv-'},
        {prompt: 'ellos / hacer', answer: 'hicieron', hint: 'I-Stamm: hic-/hiz-'},
        {prompt: 'yo / poder', answer: 'pude', hint: 'U-Stamm: pud-'},
        {prompt: 'ella / decir', answer: 'dijo', hint: 'J-Stamm: dij-'},
        {prompt: 'nosotros / venir', answer: 'vinimos', hint: 'I-Stamm: vin-'},
        {prompt: 't√∫ / poner', answer: 'pusiste', hint: 'U-Stamm: pus-'},
        {prompt: 'ellos / traer', answer: 'trajeron', hint: 'J-Stamm: traj- (Endung: -eron!)'},
        {prompt: 'yo / ser', answer: 'fui', hint: 'ser = ir im Indefinido!'},
        {prompt: 'ella / dar', answer: 'dio', hint: 'dar: di, diste, dio, dimos, disteis, dieron'},
        {prompt: 't√∫ / saber', answer: 'supiste', hint: 'U-Stamm: sup-'}
    ];

    var fcDeck = [];
    var fcIndex = 0;
    var fcCorrect = 0;
    var fcWrong = 0;
    var fcFlipped = false;

    // Swipe state
    var fcTouchStartX = 0;
    var fcTouchStartY = 0;
    var fcTouchCurrentX = 0;
    var fcIsSwiping = false;
    var fcSwipeThreshold = 80;

    function shuffleArray(arr) {
        var shuffled = arr.slice();
        for (var i = shuffled.length - 1; i > 0; i--) {
            var j = Math.floor(Math.random() * (i + 1));
            var temp = shuffled[i];
            shuffled[i] = shuffled[j];
            shuffled[j] = temp;
        }
        return shuffled;
    }

    function initFlashcards() {
        fcDeck = shuffleArray(flashcards);
        fcIndex = 0;
        fcCorrect = 0;
        fcWrong = 0;
        fcFlipped = false;
        showFlashcard();
        initSwipeListeners();
    }

    function initSwipeListeners() {
        var card = document.getElementById('flashcard');
        if (!card) return;

        // Remove old listeners by cloning
        var newCard = card.cloneNode(true);
        card.parentNode.replaceChild(newCard, card);
        card = newCard;

        // Touch events for swipe
        card.addEventListener('touchstart', handleTouchStart, {passive: true});
        card.addEventListener('touchmove', handleTouchMove, {passive: false});
        card.addEventListener('touchend', handleTouchEnd, {passive: true});

        // Click/tap to flip
        card.addEventListener('click', function(e) {
            if (!fcIsSwiping) {
                flipFlashcard();
            }
        });
    }

    function handleTouchStart(e) {
        if (!fcFlipped || fcIndex >= fcDeck.length) return;
        fcTouchStartX = e.touches[0].clientX;
        fcTouchStartY = e.touches[0].clientY;
        fcTouchCurrentX = fcTouchStartX;
        fcIsSwiping = false;
    }

    function handleTouchMove(e) {
        if (!fcFlipped || fcIndex >= fcDeck.length) return;

        fcTouchCurrentX = e.touches[0].clientX;
        var deltaX = fcTouchCurrentX - fcTouchStartX;
        var deltaY = e.touches[0].clientY - fcTouchStartY;

        // Only swipe if horizontal movement is greater than vertical
        if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 10) {
            fcIsSwiping = true;
            e.preventDefault();

            var card = document.getElementById('flashcard');
            var rotation = deltaX * 0.1;
            card.classList.add('swiping');
            card.style.transform = 'rotateY(180deg) translateX(' + deltaX + 'px) rotate(' + rotation + 'deg)';

            // Show swipe hints
            var hintLeft = document.getElementById('swipeHintLeft');
            var hintRight = document.getElementById('swipeHintRight');

            if (deltaX < -30) {
                hintLeft.classList.add('visible');
                hintRight.classList.remove('visible');
            } else if (deltaX > 30) {
                hintRight.classList.add('visible');
                hintLeft.classList.remove('visible');
            } else {
                hintLeft.classList.remove('visible');
                hintRight.classList.remove('visible');
            }
        }
    }

    function handleTouchEnd(e) {
        if (!fcFlipped || fcIndex >= fcDeck.length) return;

        var card = document.getElementById('flashcard');
        var hintLeft = document.getElementById('swipeHintLeft');
        var hintRight = document.getElementById('swipeHintRight');

        card.classList.remove('swiping');
        hintLeft.classList.remove('visible');
        hintRight.classList.remove('visible');

        var deltaX = fcTouchCurrentX - fcTouchStartX;

        if (Math.abs(deltaX) > fcSwipeThreshold) {
            // Complete the swipe
            if (deltaX > 0) {
                // Swipe right = correct
                card.classList.add('swipe-right');
                setTimeout(function() {
                    markFlashcard(true);
                }, 300);
            } else {
                // Swipe left = wrong
                card.classList.add('swipe-left');
                setTimeout(function() {
                    markFlashcard(false);
                }, 300);
            }
        } else {
            // Reset position
            card.style.transform = 'rotateY(180deg)';
        }

        fcIsSwiping = false;
    }

    function showFlashcard() {
        var card = document.getElementById('flashcard');

        if (fcIndex >= fcDeck.length) {
            document.getElementById('fcPrompt').textContent = 'Fertig!';
            document.getElementById('fcVerb').textContent = fcCorrect + '/' + fcDeck.length + ' richtig';
            document.getElementById('fcAnswer').textContent = '';
            document.getElementById('fcHint').textContent = '';
            document.getElementById('fcControls').style.display = 'none';
            return;
        }

        var cardData = fcDeck[fcIndex];
        document.getElementById('fcPrompt').textContent = cardData.prompt;
        document.getElementById('fcVerb').textContent = 'Indefinido?';
        document.getElementById('fcAnswer').textContent = cardData.answer;
        document.getElementById('fcHint').textContent = cardData.hint;

        document.getElementById('fcCurrent').textContent = fcIndex + 1;
        document.getElementById('fcTotal').textContent = fcDeck.length;
        document.getElementById('fcCorrect').textContent = fcCorrect;
        document.getElementById('fcWrong').textContent = fcWrong;

        // Reset card state
        card.classList.remove('flipped', 'swipe-left', 'swipe-right', 'swiping');
        card.style.transform = '';
        card.style.opacity = '';
        document.getElementById('fcControls').style.display = 'none';
        fcFlipped = false;

        // Reinitialize swipe listeners (needed after DOM changes)
        setTimeout(initSwipeListeners, 50);
    }

    function flipFlashcard() {
        if (fcIndex >= fcDeck.length) return;

        fcFlipped = !fcFlipped;
        var card = document.getElementById('flashcard');

        if (fcFlipped) {
            card.classList.add('flipped');
            document.getElementById('fcControls').style.display = 'flex';
        } else {
            card.classList.remove('flipped');
            document.getElementById('fcControls').style.display = 'none';
        }
    }

    function markFlashcard(correct) {
        if (correct) {
            fcCorrect++;
        } else {
            fcWrong++;
        }
        fcIndex++;
        showFlashcard();
    }

    function shuffleFlashcards() {
        fcDeck = shuffleArray(fcDeck);
        fcIndex = 0;
        fcCorrect = 0;
        fcWrong = 0;
        showFlashcard();
    }

    function resetFlashcards() {
        initFlashcards();
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // QUICK QUIZ (Station 7)
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    var quizAnswers = {};
    var quizTotal = 10;

    function selectQuiz(element, questionId, isCorrect) {
        if (quizAnswers[questionId] !== undefined) return;

        quizAnswers[questionId] = isCorrect;

        var options = element.parentElement.querySelectorAll('.mc-option');
        for (var i = 0; i < options.length; i++) {
            options[i].style.pointerEvents = 'none';
        }

        if (isCorrect) {
            element.classList.add('correct');
        } else {
            element.classList.add('incorrect');
            for (var j = 0; j < options.length; j++) {
                if (options[j] !== element) {
                    var correctOpt = options[j];
                    // Find the correct one
                }
            }
        }

        var answered = Object.keys(quizAnswers).length;
        if (answered === quizTotal) {
            var correctCount = 0;
            for (var key in quizAnswers) {
                if (quizAnswers[key]) correctCount++;
            }

            var scoreDisplay = document.getElementById('quizScore');
            scoreDisplay.style.display = 'block';
            document.getElementById('quizScoreNum').textContent = correctCount + '/' + quizTotal;
        }
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // TRAFFIC LIGHT CLICK HANDLERS
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    function initTrafficLights() {
        var labels = document.querySelectorAll('.traffic-light label');
        for (var i = 0; i < labels.length; i++) {
            labels[i].addEventListener('click', function() {
                var siblings = this.parentElement.querySelectorAll('label');
                for (var j = 0; j < siblings.length; j++) {
                    siblings[j].style.background = 'var(--white)';
                }
                this.style.background = '#f0f0f0';
            });
        }
    }

    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    // INIT
    // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    document.addEventListener('DOMContentLoaded', function() {
        loadProgress();
        initFlashcards();
        initTrafficLights();
    });
    </script>
</body>
</html>
