<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rutherford-Modell: Klassische Vorhersage</title>
    <style>
/* ═══════════════════════════════════════════════════════════════
   RUTHERFORD-KOLLAPS - Animation (ES5)
   sciencesim Design System
═══════════════════════════════════════════════════════════════ */

* { box-sizing: border-box; margin: 0; padding: 0; }

:root {
    --bg: #f5f5f5;
    --white: #ffffff;
    --border: #dddddd;
    --text-primary: #222222;
    --text-secondary: #555555;
    --accent: #2c5aa0;
    --accent-light: #e8f0fa;
    --positive: #c62828;
    --negative: #1565c0;
    --warning: #b35c00;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: var(--bg);
    font-size: 16px;
    color: var(--text-primary);
    line-height: 1.4;
}

.container {
    max-width: 700px;
    margin: 0 auto;
    padding: 15px;
}

header {
    background: var(--white);
    border: 1px solid var(--border);
    padding: 12px 15px;
    margin-bottom: 15px;
}

header h1 {
    color: var(--accent);
    font-size: 1.3em;
    font-weight: 600;
}

header .meta {
    color: var(--text-secondary);
    font-size: 0.85em;
    margin-top: 3px;
}

.sim-panel {
    background: var(--white);
    border: 1px solid var(--border);
    padding: 15px;
    margin-bottom: 15px;
}

.canvas-container {
    position: relative;
    background: #0a0a15;
    border: 1px solid #333;
}

canvas {
    display: block;
    width: 100%;
    height: auto;
}

.controls {
    display: flex;
    gap: 10px;
    margin-top: 15px;
    flex-wrap: wrap;
}

.btn {
    padding: 10px 20px;
    font-size: 1em;
    font-weight: 600;
    border: none;
    cursor: pointer;
    background: var(--accent);
    color: white;
}

.btn:hover {
    opacity: 0.9;
}

.btn-reset {
    background: var(--text-secondary);
}

.info-box {
    background: #fff3e0;
    border: 1px solid var(--warning);
    padding: 12px 15px;
    margin-top: 15px;
    font-size: 0.9em;
}

.info-box strong {
    color: var(--warning);
}

.timer-display {
    font-family: "SF Mono", Monaco, monospace;
    font-size: 1.5em;
    text-align: center;
    padding: 15px;
    background: var(--accent-light);
    border: 1px solid var(--accent);
    margin-top: 15px;
}

.timer-label {
    font-size: 0.6em;
    color: var(--text-secondary);
    display: block;
    margin-bottom: 5px;
}

.collapsed {
    color: var(--positive);
    font-weight: bold;
}

.legend {
    display: flex;
    gap: 20px;
    margin-top: 10px;
    font-size: 0.85em;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 5px;
}

.legend-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.legend-dot.nucleus { background: var(--positive); }
.legend-dot.electron { background: var(--negative); }
</style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Rutherford-Modell: Klassische Vorhersage</h1>
            <div class="meta">Das Problem der klassischen Physik | Physik 12 GK</div>
        </header>

        <div class="sim-panel">
            <div class="canvas-container">
                <canvas id="simCanvas" width="600" height="400"></canvas>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-dot nucleus"></div>
                    <span>Atomkern (Proton)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot electron"></div>
                    <span>Elektron</span>
                </div>
            </div>

            <div class="controls">
                <button class="btn" id="btnStart">▶ Starten</button>
                <button class="btn btn-reset" id="btnReset">↺ Zurücksetzen</button>
            </div>

            <div class="timer-display">
                <span class="timer-label">Zeit bis zum Kollaps (klassische Vorhersage)</span>
                <span id="timerValue">0,000 000 000 00 s</span>
            </div>
        </div>

        <div class="info-box">
            <strong>Problem der klassischen Physik:</strong><br>
            Ein Elektron auf einer Kreisbahn ist eine <em>beschleunigte Ladung</em>.
            Nach Maxwell müsste es elektromagnetische Strahlung aussenden und dabei Energie verlieren.
            <br><br>
            <strong>Klassische Vorhersage:</strong> Das Elektron spiralt in ca. <strong>10<sup>−11</sup> s</strong> in den Kern!
            <br><br>
            <strong>Aber:</strong> Atome existieren stabil. Die klassische Physik versagt hier.
        </div>
    </div>

<script>
// ═══════════════════════════════════════════════════════════════
// RUTHERFORD-KOLLAPS - Animation (ES5)
// Zeigt das Problem: Klassische Physik sagt Atomkollaps vorher
// ═══════════════════════════════════════════════════════════════

(function() {
    'use strict';

    var canvas = document.getElementById('simCanvas');
    var ctx = canvas.getContext('2d');
    var btnStart = document.getElementById('btnStart');
    var btnReset = document.getElementById('btnReset');
    var timerValue = document.getElementById('timerValue');

    // Geometrie
    var centerX = 300;
    var centerY = 200;
    var nucleusRadius = 15;
    var initialRadius = 150;
    var minRadius = 20;

    // Zustand
    var electronRadius = initialRadius;
    var electronAngle = 0;
    var isRunning = false;
    var isCollapsed = false;
    var animationTime = 0;
    var collapseTime = 1e-11; // 10^-11 Sekunden

    // Trail für Spirale
    var trail = [];
    var maxTrailLength = 200;

    function formatTime(t) {
        if (t < 1e-11) {
            var exp = Math.floor(Math.log10(t));
            var mantissa = t / Math.pow(10, exp);
            return mantissa.toFixed(2).replace('.', ',') + ' × 10^' + exp + ' s';
        }
        return t.toExponential(2).replace('.', ',') + ' s';
    }

    function draw() {
        // Hintergrund
        ctx.fillStyle = '#0a0a15';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Trail (Spiralbahn)
        if (trail.length > 1) {
            ctx.beginPath();
            ctx.moveTo(trail[0].x, trail[0].y);
            for (var i = 1; i < trail.length; i++) {
                ctx.lineTo(trail[i].x, trail[i].y);
            }
            ctx.strokeStyle = 'rgba(21, 101, 192, 0.4)';
            ctx.lineWidth = 2;
            ctx.stroke();
        }

        // Atomkern
        var gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, nucleusRadius);
        gradient.addColorStop(0, '#ff6659');
        gradient.addColorStop(1, '#c62828');
        ctx.beginPath();
        ctx.arc(centerX, centerY, nucleusRadius, 0, Math.PI * 2);
        ctx.fillStyle = gradient;
        ctx.fill();

        // + Symbol im Kern
        ctx.fillStyle = 'white';
        ctx.font = 'bold 14px sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText('+', centerX, centerY);

        // Elektron
        if (!isCollapsed) {
            var ex = centerX + electronRadius * Math.cos(electronAngle);
            var ey = centerY + electronRadius * Math.sin(electronAngle);

            // Elektron-Glow
            var eGradient = ctx.createRadialGradient(ex, ey, 0, ex, ey, 12);
            eGradient.addColorStop(0, '#64b5f6');
            eGradient.addColorStop(0.5, '#1565c0');
            eGradient.addColorStop(1, 'rgba(21, 101, 192, 0)');
            ctx.beginPath();
            ctx.arc(ex, ey, 12, 0, Math.PI * 2);
            ctx.fillStyle = eGradient;
            ctx.fill();

            // Elektron-Kern
            ctx.beginPath();
            ctx.arc(ex, ey, 6, 0, Math.PI * 2);
            ctx.fillStyle = '#1565c0';
            ctx.fill();

            // − Symbol
            ctx.fillStyle = 'white';
            ctx.font = 'bold 10px sans-serif';
            ctx.fillText('−', ex, ey);

            // Strahlungs-Wellen (elektromagnetische Strahlung)
            if (isRunning) {
                var waveCount = 3;
                for (var w = 0; w < waveCount; w++) {
                    var waveRadius = 20 + w * 15 + (animationTime * 50) % 45;
                    var alpha = 0.3 - w * 0.1;
                    if (alpha > 0) {
                        ctx.beginPath();
                        ctx.arc(ex, ey, waveRadius, 0, Math.PI * 2);
                        ctx.strokeStyle = 'rgba(255, 200, 50, ' + alpha + ')';
                        ctx.lineWidth = 1;
                        ctx.stroke();
                    }
                }
            }
        } else {
            // Kollaps-Effekt
            ctx.fillStyle = 'rgba(255, 100, 100, 0.5)';
            ctx.beginPath();
            ctx.arc(centerX, centerY, 30, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = '#fff';
            ctx.font = 'bold 16px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('KOLLAPS!', centerX, centerY + 50);
        }

        // Beschriftung
        ctx.fillStyle = '#888';
        ctx.font = '12px sans-serif';
        ctx.textAlign = 'center';
        if (!isRunning && !isCollapsed) {
            ctx.fillText('Drücke "Starten" um die klassische Vorhersage zu sehen', centerX, 30);
        } else if (isRunning) {
            ctx.fillText('Elektron verliert Energie durch Strahlung...', centerX, 30);
        }
    }

    function update() {
        if (!isRunning || isCollapsed) return;

        // Zeit fortschreiten (Animation beschleunigt)
        animationTime += 0.016;

        // Elektron dreht sich
        electronAngle += 0.15;

        // Radius schrumpft (exponentiell für dramatischen Effekt)
        var progress = Math.min(animationTime / 3, 1); // 3 Sekunden Animation
        electronRadius = initialRadius * (1 - progress * 0.85);

        // Trail aktualisieren
        var ex = centerX + electronRadius * Math.cos(electronAngle);
        var ey = centerY + electronRadius * Math.sin(electronAngle);
        trail.push({x: ex, y: ey});
        if (trail.length > maxTrailLength) {
            trail.shift();
        }

        // Timer aktualisieren (simulierte Zeit)
        var simulatedTime = progress * collapseTime;
        if (simulatedTime < collapseTime * 0.99) {
            timerValue.textContent = formatTime(simulatedTime);
        } else {
            timerValue.innerHTML = '<span class="collapsed">≈ 10<sup>−11</sup> s — KOLLAPS!</span>';
        }

        // Kollaps prüfen
        if (electronRadius <= minRadius) {
            isCollapsed = true;
            isRunning = false;
            timerValue.innerHTML = '<span class="collapsed">≈ 10<sup>−11</sup> s — KOLLAPS!</span>';
            btnStart.textContent = '▶ Starten';
        }

        draw();

        if (isRunning) {
            requestAnimationFrame(update);
        }
    }

    function start() {
        if (isCollapsed) {
            reset();
        }
        isRunning = true;
        btnStart.textContent = '⏸ Pause';
        update();
    }

    function pause() {
        isRunning = false;
        btnStart.textContent = '▶ Weiter';
    }

    function reset() {
        isRunning = false;
        isCollapsed = false;
        electronRadius = initialRadius;
        electronAngle = 0;
        animationTime = 0;
        trail = [];
        timerValue.textContent = '0,000 000 000 00 s';
        btnStart.textContent = '▶ Starten';
        draw();
    }

    btnStart.onclick = function() {
        if (isRunning) {
            pause();
        } else {
            start();
        }
    };

    btnReset.onclick = reset;

    // Initial
    draw();

})();
</script>
</body>
</html>
