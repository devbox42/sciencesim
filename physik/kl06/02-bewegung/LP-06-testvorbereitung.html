<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lernpfad: Testvorbereitung Bewegung | Physik Klasse 6</title>
    <style>
/* ═══════════════════════════════════════════════════════════════
   LP-06 Testvorbereitung Bewegung - MINT-Workflow
   sciencesim Design System | ca. 12 Minuten
═══════════════════════════════════════════════════════════════ */

* { box-sizing: border-box; margin: 0; padding: 0; }

:root {
    --bg: #f5f5f5;
    --white: #ffffff;
    --border: #dddddd;
    --text-primary: #222222;
    --text-secondary: #555555;
    --text-muted: #888888;
    --accent: #2c5aa0;
    --accent-light: #e8f0fa;
    --success: #2a7a4b;
    --success-bg: #e8f5e9;
    --warning: #b35c00;
    --warning-bg: #fff3e0;
    --error: #c62828;
    --error-bg: #ffebee;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: var(--bg);
    font-size: 16px;
    color: var(--text-primary);
    line-height: 1.6;
}

.container {
    max-width: 900px;
    margin: 0 auto;
    padding: 20px;
}

header {
    background: var(--white);
    border: 1px solid var(--border);
    padding: 15px 20px;
    margin-bottom: 20px;
}

header h1 {
    color: var(--accent);
    font-size: 1.4em;
    font-weight: 600;
}

header .meta {
    color: var(--text-muted);
    font-size: 0.9em;
    margin-top: 5px;
}

.progress-bar {
    background: #e0e0e0;
    height: 8px;
    margin-top: 10px;
}

.progress-fill {
    background: var(--accent);
    height: 100%;
    width: 0%;
    transition: width 0.3s;
}

.step-indicators {
    display: flex;
    gap: 4px;
    margin-top: 10px;
    flex-wrap: wrap;
}

.step-dot {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75em;
    font-weight: 600;
    border: 2px solid var(--border);
    background: var(--white);
    cursor: pointer;
    transition: all 0.15s;
}

.step-dot:hover { border-color: var(--accent); }
.step-dot.current { border-color: var(--accent); background: var(--accent); color: white; }
.step-dot.completed { border-color: var(--success); background: var(--success-bg); color: var(--success); }

.step {
    display: none;
    background: var(--white);
    border: 1px solid var(--border);
    padding: 25px;
    margin-bottom: 20px;
}

.step.active { display: block; }

.step-header {
    font-size: 1.2em;
    font-weight: 600;
    color: var(--accent);
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--accent-light);
}

.info-box {
    background: var(--accent-light);
    border-left: 4px solid var(--accent);
    padding: 12px 15px;
    margin: 15px 0;
}

.merksatz {
    background: var(--success-bg);
    border-left: 4px solid var(--success);
    padding: 12px 15px;
    margin: 15px 0;
}

.warnung {
    background: var(--warning-bg);
    border-left: 4px solid var(--warning);
    padding: 12px 15px;
    margin: 15px 0;
}

.warmup-box {
    background: linear-gradient(135deg, #e8f0fa 0%, #f0f7ff 100%);
    border: 2px solid var(--accent);
    border-radius: 12px;
    padding: 20px;
    margin: 15px 0;
    text-align: center;
}

.warmup-question {
    background: var(--white);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
}

.warmup-options {
    display: flex;
    flex-direction: column;
    gap: 8px;
    margin-top: 10px;
}

.warmup-option {
    display: block;
    padding: 10px 15px;
    background: var(--white);
    border: 2px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.15s;
    min-height: 44px;
}

.warmup-option:hover { border-color: var(--accent); background: var(--accent-light); }
.warmup-option.selected { border-color: var(--accent); background: var(--accent-light); }
.warmup-option.correct { border-color: var(--success); background: var(--success-bg); }
.warmup-option.incorrect { border-color: var(--error); background: var(--error-bg); }

.warmup-feedback {
    display: none;
    padding: 10px;
    margin-top: 10px;
    border-radius: 6px;
    font-size: 0.9em;
}

.warmup-feedback.show { display: block; }
.warmup-feedback.correct { background: var(--success-bg); color: var(--success); }
.warmup-feedback.incorrect { background: var(--warning-bg); color: var(--warning); }

.exercise {
    background: #fafafa;
    border: 1px solid var(--border);
    padding: 15px;
    margin: 15px 0;
    border-radius: 6px;
}

.exercise-title {
    font-weight: 600;
    margin-bottom: 10px;
    color: var(--accent);
}

.fill-blank {
    border: none;
    border-bottom: 2px solid var(--accent);
    background: transparent;
    padding: 2px 5px;
    font-size: 1em;
    width: 80px;
    text-align: center;
    min-height: 44px;
}

.fill-blank:focus {
    outline: none;
    border-bottom-color: var(--success);
}

.inline-select {
    padding: 5px 10px;
    font-size: 1em;
    border: 1px solid var(--border);
    border-radius: 4px;
    min-height: 44px;
}

.feedback {
    display: none;
    padding: 10px;
    margin-top: 10px;
    border-radius: 6px;
}

.feedback.correct { display: block; background: var(--success-bg); color: var(--success); }
.feedback.incorrect { display: block; background: var(--error-bg); color: var(--error); }
.feedback.hint { display: block; background: var(--warning-bg); color: var(--warning); }

/* ISO 80000 */
.fz { font-style: italic; }
.eh { font-style: normal; }
.frac {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    vertical-align: middle;
    margin: 0 4px;
    line-height: 1;
}
.frac .z {
    border-bottom: 1.5px solid currentColor;
    padding: 0 5px 2px;
    text-align: center;
}
.frac .n {
    padding: 2px 5px 0;
    text-align: center;
}

/* Denkschritt-Box */
.denkschritt {
    background: #f0f7ff;
    border: 1px solid var(--accent);
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
}
.denkschritt-title {
    font-weight: 600;
    color: var(--accent);
    margin-bottom: 8px;
}
.denkschritt-table {
    width: 100%;
    border-collapse: collapse;
    margin: 10px 0;
    font-size: 0.95em;
}
.denkschritt-table th {
    background: var(--accent);
    color: white;
    padding: 8px 12px;
    text-align: center;
}
.denkschritt-table td {
    border: 1px solid var(--border);
    padding: 8px 12px;
    text-align: center;
}
.denkschritt-table tr:nth-child(even) { background: #fafafa; }

.btn {
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 1em;
    cursor: pointer;
    transition: all 0.15s;
    min-height: 44px;
}

.btn-primary, .btn-success {
    background: var(--accent);
    color: white;
}

.btn-primary:hover, .btn-success:hover {
    background: #1e4a8a;
}

.btn-secondary {
    background: var(--white);
    border: 1px solid var(--border);
    color: var(--text-primary);
}

.btn-secondary:hover {
    background: var(--bg);
}

.nav-buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 25px;
    padding-top: 15px;
    border-top: 1px solid var(--border);
}

.thema-badge {
    display: inline-block;
    padding: 4px 12px;
    border-radius: 15px;
    font-size: 0.85em;
    font-weight: 600;
    margin: 3px;
}

.thema-bewegung { background: #e3f2fd; color: #1565c0; }
.thema-geschwindigkeit { background: #f3e5f5; color: #7b1fa2; }
.thema-diagramm { background: #e8f5e9; color: #2e7d32; }
.thema-verkehr { background: #fff3e0; color: #e65100; }

.diagram-container {
    text-align: center;
    margin: 15px 0;
}

.checklist {
    background: var(--white);
    border: 2px solid var(--success);
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
}

.checklist h3 {
    color: var(--success);
    margin-bottom: 10px;
}

.checklist ul {
    list-style: none;
    padding: 0;
}

.checklist li {
    padding: 8px 0;
    border-bottom: 1px solid var(--border);
}

.checklist li:last-child {
    border-bottom: none;
}

.score-display {
    text-align: center;
    padding: 20px;
    margin: 15px 0;
    border: 2px solid var(--accent);
    border-radius: 12px;
    background: linear-gradient(135deg, #e8f0fa 0%, #f0f7ff 100%);
}

.score-number {
    font-size: 2.5em;
    font-weight: bold;
    color: var(--accent);
}

.score-label {
    font-size: 0.9em;
    color: var(--text-secondary);
    margin-top: 5px;
}

@media (max-width: 600px) {
    .container { padding: 10px; }
    .step { padding: 15px; }
    .nav-buttons { flex-direction: column; gap: 10px; }
    .nav-buttons button { width: 100%; }
    .denkschritt-table { font-size: 0.85em; }
    .denkschritt-table th, .denkschritt-table td { padding: 6px 8px; }
}

    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Testvorbereitung: Bewegung</h1>
            <div class="meta">Physik Klasse 6 | ca. 12 Minuten</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="step-indicators" id="stepIndicators"></div>
        </header>

        <!-- ========== SCHRITT 0: QUICK-CHECK ========== -->
        <div class="step active" id="step0">
            <div class="step-header">Quick-Check: Wo stehst du?</div>
            <div class="step-content">

                <div class="warmup-box">
                    <div style="font-size: 1.8em;">&#x1F3C3; &#x1F4CA; &#x1F6D1;</div>
                    <h2 style="margin: 10px 0;">Fit für den Test?</h2>
                    <p>4 schnelle Fragen &ndash; eine pro Thema.<br>So siehst du, wo du noch üben musst!</p>
                </div>

                <!-- Quick-Check 1: Bewegungsarten -->
                <div class="warmup-question" id="warmup-q1">
                    <div class="question-text"><span class="thema-badge thema-bewegung">1</span> Ein Karussell dreht sich gleichmäßig. Die Bahnform ist ...</div>
                    <div class="warmup-options">
                        <label class="warmup-option" onclick="selectWarmup('q1', 'a')">
                            <input type="radio" name="warmup-q1" value="a" style="display:none">
                            geradlinig
                        </label>
                        <label class="warmup-option" onclick="selectWarmup('q1', 'b')">
                            <input type="radio" name="warmup-q1" value="b" style="display:none">
                            krummlinig
                        </label>
                    </div>
                    <div class="warmup-feedback" id="feedback-warmup-q1"></div>
                </div>

                <!-- Quick-Check 2: Geschwindigkeit -->
                <div class="warmup-question" id="warmup-q2">
                    <div class="question-text"><span class="thema-badge thema-geschwindigkeit">2</span> Jemand joggt 10 Meter pro Sekunde. Wie weit kommt er in 6 Sekunden?</div>
                    <div class="warmup-options">
                        <label class="warmup-option" onclick="selectWarmup('q2', 'a')">
                            <input type="radio" name="warmup-q2" value="a" style="display:none">
                            16 m
                        </label>
                        <label class="warmup-option" onclick="selectWarmup('q2', 'b')">
                            <input type="radio" name="warmup-q2" value="b" style="display:none">
                            60 m
                        </label>
                        <label class="warmup-option" onclick="selectWarmup('q2', 'c')">
                            <input type="radio" name="warmup-q2" value="c" style="display:none">
                            600 m
                        </label>
                    </div>
                    <div class="warmup-feedback" id="feedback-warmup-q2"></div>
                </div>

                <!-- Quick-Check 3: Diagramm -->
                <div class="warmup-question" id="warmup-q3">
                    <div class="question-text"><span class="thema-badge thema-diagramm">3</span> Was bedeutet eine <strong>waagerechte Linie</strong> im Weg-Zeit-Diagramm?</div>
                    <div class="warmup-options">
                        <label class="warmup-option" onclick="selectWarmup('q3', 'a')">
                            <input type="radio" name="warmup-q3" value="a" style="display:none">
                            Schnelle Bewegung
                        </label>
                        <label class="warmup-option" onclick="selectWarmup('q3', 'b')">
                            <input type="radio" name="warmup-q3" value="b" style="display:none">
                            Stillstand (Pause)
                        </label>
                        <label class="warmup-option" onclick="selectWarmup('q3', 'c')">
                            <input type="radio" name="warmup-q3" value="c" style="display:none">
                            Rückwärtsbewegung
                        </label>
                    </div>
                    <div class="warmup-feedback" id="feedback-warmup-q3"></div>
                </div>

                <!-- Quick-Check 4: Verkehrssicherheit -->
                <div class="warmup-question" id="warmup-q4">
                    <div class="question-text"><span class="thema-badge thema-verkehr">4</span> Anhalteweg = ...</div>
                    <div class="warmup-options">
                        <label class="warmup-option" onclick="selectWarmup('q4', 'a')">
                            <input type="radio" name="warmup-q4" value="a" style="display:none">
                            Reaktionsweg + Bremsweg
                        </label>
                        <label class="warmup-option" onclick="selectWarmup('q4', 'b')">
                            <input type="radio" name="warmup-q4" value="b" style="display:none">
                            Bremsweg + Geschwindigkeit
                        </label>
                        <label class="warmup-option" onclick="selectWarmup('q4', 'c')">
                            <input type="radio" name="warmup-q4" value="c" style="display:none">
                            Reaktionsweg &times; Bremsweg
                        </label>
                    </div>
                    <div class="warmup-feedback" id="feedback-warmup-q4"></div>
                </div>

                <div id="quickScore" style="display:none;" class="score-display">
                    <div class="score-number" id="quickScoreNum">0/4</div>
                    <div class="score-label" id="quickScoreText"></div>
                </div>

                <div class="nav-buttons">
                    <span></span>
                    <button class="btn btn-success" onclick="nextStep(1)">Weiter: Bewegungsarten &#8594;</button>
                </div>
            </div>
        </div>

        <!-- ========== SCHRITT 1: Bewegungsarten (2 min) ========== -->
        <div class="step" id="step1">
            <div class="step-header"><span class="thema-badge thema-bewegung">Block 1</span> Bewegungsarten</div>
            <div class="step-content">

                <div class="merksatz">
                    <strong>Jede Bewegung hat zwei Eigenschaften:</strong><br><br>
                    <strong>1. Wie sieht der Weg aus?</strong> (Bahnform)<br>
                    &rarr; <strong>geradlinig</strong> (gerade Linie) oder <strong>krummlinig</strong> (Kurve, Kreis)<br><br>
                    <strong>2. Wie verändert sich die Geschwindigkeit?</strong> (Bewegungsart)<br>
                    &rarr; <strong>gleichförmig</strong> (bleibt gleich) oder <strong>ungleichförmig</strong> (wird schneller oder langsamer)
                </div>

                <div class="exercise">
                    <div class="exercise-title">Schnell-Übung: Ordne zu</div>

                    <p><strong>a)</strong> Rolltreppe (fährt immer gleich schnell):<br>
                    Bahnform: <select id="ex1-a1" class="inline-select">
                        <option value="">--</option>
                        <option value="gerade">geradlinig</option>
                        <option value="krumm">krummlinig</option>
                    </select>
                    Bewegungsart: <select id="ex1-a2" class="inline-select">
                        <option value="">--</option>
                        <option value="gleich">gleichförmig</option>
                        <option value="ungleich">ungleichförmig</option>
                    </select></p>

                    <p><strong>b)</strong> Ball wird geworfen (fliegt einen Bogen):<br>
                    Bahnform: <select id="ex1-b1" class="inline-select">
                        <option value="">--</option>
                        <option value="gerade">geradlinig</option>
                        <option value="krumm">krummlinig</option>
                    </select>
                    Bewegungsart: <select id="ex1-b2" class="inline-select">
                        <option value="">--</option>
                        <option value="gleich">gleichförmig</option>
                        <option value="ungleich">ungleichförmig</option>
                    </select></p>

                    <p><strong>c)</strong> Sprinter beim 100-m-Lauf (beschleunigt am Start):<br>
                    Bahnform: <select id="ex1-c1" class="inline-select">
                        <option value="">--</option>
                        <option value="gerade">geradlinig</option>
                        <option value="krumm">krummlinig</option>
                    </select>
                    Bewegungsart: <select id="ex1-c2" class="inline-select">
                        <option value="">--</option>
                        <option value="gleich">gleichförmig</option>
                        <option value="ungleich">ungleichförmig</option>
                    </select></p>

                    <button class="btn" onclick="checkEx1()">Prüfen</button>
                    <div class="feedback" id="feedback-1"></div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep(0)">&#8592; Zurück</button>
                    <button class="btn btn-success" onclick="nextStep(2)">Weiter: Geschwindigkeit &#8594;</button>
                </div>
            </div>
        </div>

        <!-- ========== SCHRITT 2: Geschwindigkeit (3 min) ========== -->
        <div class="step" id="step2">
            <div class="step-header"><span class="thema-badge thema-geschwindigkeit">Block 2</span> Geschwindigkeit</div>
            <div class="step-content">

                <div class="merksatz">
                    <strong>Geschwindigkeit</strong> sagt dir, wie weit du in einer bestimmten Zeit kommst.<br><br>
                    Geschwindigkeit = <span class="frac"><span class="z">Weg</span><span class="n">Zeit</span></span>
                    &emsp; also &emsp;
                    <span class="fz">v</span> = <span class="frac"><span class="z"><span class="fz">s</span></span><span class="n"><span class="fz">t</span></span></span>
                </div>

                <div class="denkschritt">
                    <div class="denkschritt-title">Denk-Beispiel: Was bedeutet 10 <span class="frac"><span class="z">m</span><span class="n">s</span></span> ?</div>
                    <p>Wenn jemand mit 10 <span class="frac"><span class="z">m</span><span class="n">s</span></span> läuft, schafft er <strong>jede Sekunde 10 Meter</strong>:</p>
                    <table class="denkschritt-table">
                        <tr><th>Zeit</th><th>1 s</th><th>2 s</th><th>5 s</th><th>10 s</th></tr>
                        <tr><td>Weg</td><td>10 m</td><td>20 m</td><td>50 m</td><td>100 m</td></tr>
                    </table>
                    <p style="margin-top:10px; font-size:0.9em; color: var(--text-secondary);">
                        Du siehst: <strong>Weg = Geschwindigkeit &middot; Anzahl Sekunden</strong>.<br>
                        Und umgekehrt: Wenn du 100 m in 10 s schaffst, dann sind das <span class="frac"><span class="z">100</span><span class="n">10</span></span> = 10 pro Sekunde.
                    </p>
                </div>

                <div class="exercise">
                    <div class="exercise-title">Übung 1: Geschwindigkeit herausfinden</div>
                    <p>Ein Radfahrer fährt <strong>150 m</strong> in <strong>30 s</strong>.<br>
                    Wie viele Meter schafft er pro Sekunde?</p>
                    <p><span class="fz">v</span> = <span class="frac"><span class="z">150 m</span><span class="n">30 s</span></span> = <input type="number" id="ex2-a" class="fill-blank" style="width:60px"> <span class="frac"><span class="z">m</span><span class="n">s</span></span></p>
                    <button class="btn" onclick="checkEx2a()">Prüfen</button>
                    <div class="feedback" id="feedback-2a"></div>
                </div>

                <div class="exercise">
                    <div class="exercise-title">Übung 2: Wie lange braucht er?</div>
                    <p>Ein Skater fährt <strong>8 Meter pro Sekunde</strong>.<br>
                    Er will <strong>240 m</strong> weit fahren.</p>
                    <p style="font-size:0.9em; color: var(--text-secondary); margin-bottom:8px;">Überleg: In 1 Sekunde schafft er 8 m. Wie viele Sekunden braucht er für 240 m?</p>
                    <p><span class="fz">t</span> = <input type="number" id="ex2-b" class="fill-blank" style="width:60px"> s</p>
                    <button class="btn" onclick="checkEx2b()">Prüfen</button>
                    <div class="feedback" id="feedback-2b"></div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep(1)">&#8592; Zurück</button>
                    <button class="btn btn-success" onclick="nextStep(3)">Weiter: Diagramme &#8594;</button>
                </div>
            </div>
        </div>

        <!-- ========== SCHRITT 3: s-t-Diagramme (3 min) ========== -->
        <div class="step" id="step3">
            <div class="step-header"><span class="thema-badge thema-diagramm">Block 3</span> Weg-Zeit-Diagramme</div>
            <div class="step-content">

                <div class="merksatz">
                    <strong>So liest du ein Weg-Zeit-Diagramm:</strong><br><br>
                    <strong>Steile Linie</strong> = schnell (viel Weg in kurzer Zeit)<br>
                    <strong>Flache Linie</strong> = langsam (wenig Weg in gleicher Zeit)<br>
                    <strong>Waagerechte Linie</strong> = Pause (kein Weg, die Zeit läuft aber weiter)
                </div>

                <div class="exercise">
                    <div class="exercise-title">Übung: Diagramm lesen</div>
                    <p>Ein Wanderer geht los, macht eine Pause und geht dann schneller weiter:</p>

                    <div class="diagram-container">
                        <svg viewBox="0 0 380 250" width="380" height="250">
                            <!-- Hintergrund -->
                            <rect x="55" y="10" width="310" height="200" fill="#fafafa" stroke="#ddd"/>

                            <!-- Gitternetz -->
                            <g stroke="#e0e0e0" stroke-width="1">
                                <!-- Horizontal: alle 40m -->
                                <line x1="55" y1="170" x2="365" y2="170"/>
                                <line x1="55" y1="130" x2="365" y2="130"/>
                                <line x1="55" y1="90" x2="365" y2="90"/>
                                <line x1="55" y1="50" x2="365" y2="50"/>
                                <!-- Vertikal: alle 5 min -->
                                <line x1="117" y1="10" x2="117" y2="210"/>
                                <line x1="179" y1="10" x2="179" y2="210"/>
                                <line x1="241" y1="10" x2="241" y2="210"/>
                                <line x1="303" y1="10" x2="303" y2="210"/>
                            </g>

                            <!-- Achsen -->
                            <line x1="55" y1="210" x2="365" y2="210" stroke="#333" stroke-width="2"/>
                            <line x1="55" y1="10" x2="55" y2="210" stroke="#333" stroke-width="2"/>

                            <!-- Achsenbeschriftung -->
                            <text x="210" y="242" text-anchor="middle" font-size="13" fill="#333">Zeit <tspan font-style="italic">t</tspan> in min</text>
                            <text x="15" y="110" text-anchor="middle" font-size="13" fill="#333" transform="rotate(-90, 15, 110)">Weg <tspan font-style="italic">s</tspan> in m</text>

                            <!-- Y-Werte -->
                            <text x="50" y="214" text-anchor="end" font-size="11" fill="#666">0</text>
                            <text x="50" y="174" text-anchor="end" font-size="11" fill="#666">40</text>
                            <text x="50" y="134" text-anchor="end" font-size="11" fill="#666">80</text>
                            <text x="50" y="94" text-anchor="end" font-size="11" fill="#666">120</text>
                            <text x="50" y="54" text-anchor="end" font-size="11" fill="#666">160</text>

                            <!-- X-Werte -->
                            <text x="55" y="226" text-anchor="middle" font-size="11" fill="#666">0</text>
                            <text x="117" y="226" text-anchor="middle" font-size="11" fill="#666">5</text>
                            <text x="179" y="226" text-anchor="middle" font-size="11" fill="#666">10</text>
                            <text x="241" y="226" text-anchor="middle" font-size="11" fill="#666">15</text>
                            <text x="303" y="226" text-anchor="middle" font-size="11" fill="#666">20</text>
                            <text x="365" y="226" text-anchor="middle" font-size="11" fill="#666">25</text>

                            <!-- Linie: Abschnitt X (0-10 min: 0-40m, flach = langsam, 4 m/min) -->
                            <line x1="55" y1="210" x2="179" y2="170" stroke="#2c5aa0" stroke-width="3"/>
                            <!-- Abschnitt Y (10-15 min: 40m, Pause) -->
                            <line x1="179" y1="170" x2="241" y2="170" stroke="#2c5aa0" stroke-width="3"/>
                            <!-- Abschnitt Z (15-25 min: 40-160m, steil = schneller, 12 m/min) -->
                            <line x1="241" y1="170" x2="365" y2="50" stroke="#2c5aa0" stroke-width="3"/>

                            <!-- Labels -->
                            <text x="117" y="198" text-anchor="middle" font-size="14" fill="#2c5aa0" font-weight="bold">X</text>
                            <text x="210" y="162" text-anchor="middle" font-size="14" fill="#2c5aa0" font-weight="bold">Y</text>
                            <text x="303" y="103" text-anchor="middle" font-size="14" fill="#2c5aa0" font-weight="bold">Z</text>

                            <circle cx="365" cy="50" r="4" fill="#2c5aa0"/>
                        </svg>
                    </div>

                    <p>a) Wie weit ist der Wanderer nach <strong>10 Minuten</strong> gelaufen?<br>
                    <span class="fz">s</span> = <input type="number" id="ex3-a" class="fill-blank" style="width:60px"> m</p>

                    <p>b) Was passiert in Abschnitt Y?<br>
                    <select id="ex3-b" class="inline-select">
                        <option value="">-- wählen --</option>
                        <option value="pause">Der Wanderer macht Pause</option>
                        <option value="schnell">Der Wanderer wird schneller</option>
                        <option value="langsam">Der Wanderer wird langsamer</option>
                    </select></p>

                    <p>c) In welchem Abschnitt ist der Wanderer <strong>schneller</strong> unterwegs?<br>
                    <select id="ex3-c" class="inline-select">
                        <option value="">--</option>
                        <option value="x">X (am Anfang)</option>
                        <option value="z">Z (am Ende)</option>
                        <option value="gleich">In beiden gleich schnell</option>
                    </select></p>

                    <button class="btn" onclick="checkEx3()">Prüfen</button>
                    <div class="feedback" id="feedback-3"></div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep(2)">&#8592; Zurück</button>
                    <button class="btn btn-success" onclick="nextStep(4)">Weiter: Verkehrssicherheit &#8594;</button>
                </div>
            </div>
        </div>

        <!-- ========== SCHRITT 4: Verkehrssicherheit (2 min) ========== -->
        <div class="step" id="step4">
            <div class="step-header"><span class="thema-badge thema-verkehr">Block 4</span> Verkehrssicherheit</div>
            <div class="step-content">

                <div class="merksatz">
                    <strong>Was passiert, wenn ein Auto bremsen muss?</strong><br><br>
                    <strong>1. Reaktionsweg</strong> &ndash; Der Fahrer braucht ca. 1 Sekunde, bis er bremst. In dieser Zeit fährt das Auto weiter!<br>
                    &rarr; Bei 10 <span class="frac"><span class="z">m</span><span class="n">s</span></span> sind das 10 m in 1 Sekunde.<br><br>
                    <strong>2. Bremsweg</strong> &ndash; Der Weg, den das Auto zum Anhalten braucht.<br><br>
                    <strong>Anhalteweg = Reaktionsweg + Bremsweg</strong>
                </div>

                <div class="denkschritt">
                    <div class="denkschritt-title">Denk-Beispiel: Was passiert bei verschiedenen Geschwindigkeiten?</div>
                    <p>Reaktionszeit ist immer ca. 1 Sekunde. Also:</p>
                    <table class="denkschritt-table">
                        <tr><th>Geschwindigkeit</th><th>Reaktionsweg (in 1 s)</th></tr>
                        <tr><td>10 <span class="frac"><span class="z">m</span><span class="n">s</span></span></td><td>10 m</td></tr>
                        <tr><td>15 <span class="frac"><span class="z">m</span><span class="n">s</span></span></td><td>15 m</td></tr>
                        <tr><td>20 <span class="frac"><span class="z">m</span><span class="n">s</span></span></td><td>20 m</td></tr>
                    </table>
                    <p style="margin-top:10px; font-size:0.9em; color: var(--text-secondary);">
                        Siehst du? <strong>Die Zahl der Geschwindigkeit IST der Reaktionsweg in Metern</strong> (bei 1 s Reaktionszeit).
                    </p>
                </div>

                <div class="exercise">
                    <div class="exercise-title">Übung: Anhalteweg bestimmen</div>
                    <p>Ein Fahrrad fährt mit <strong>8 <span class="frac"><span class="z">m</span><span class="n">s</span></span></strong>. Der Bremsweg beträgt <strong>6 m</strong>.</p>

                    <p>a) Wie weit fährt das Fahrrad in der 1 Sekunde Reaktionszeit?<br>
                    Reaktionsweg: <input type="number" id="ex4-a" class="fill-blank" style="width:60px"> m</p>
                    <p>b) Wie lang ist der gesamte Anhalteweg?<br>
                    Anhalteweg: <input type="number" id="ex4-b" class="fill-blank" style="width:60px"> m</p>

                    <button class="btn" onclick="checkEx4()">Prüfen</button>
                    <div class="feedback" id="feedback-4"></div>
                </div>

                <div class="exercise">
                    <div class="exercise-title">Nachdenken</div>
                    <p>Bei <strong>nasser Straße</strong> ist der Bremsweg <strong>länger</strong>. Was passiert mit dem Anhalteweg?</p>
                    <select id="ex4-c" class="inline-select" style="width:100%;">
                        <option value="">-- wählen --</option>
                        <option value="laenger">Der Anhalteweg wird auch länger</option>
                        <option value="gleich">Der Anhalteweg bleibt gleich</option>
                        <option value="kuerzer">Der Anhalteweg wird kürzer</option>
                    </select>
                    <button class="btn" style="margin-top:10px;" onclick="checkEx4c()">Prüfen</button>
                    <div class="feedback" id="feedback-4c"></div>
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep(3)">&#8592; Zurück</button>
                    <button class="btn btn-success" onclick="finishLP()">Abschluss &#8594;</button>
                </div>
            </div>
        </div>

        <!-- ========== SCHRITT 5: Zusammenfassung ========== -->
        <div class="step" id="step5">
            <div class="step-header">Bereit für den Test!</div>
            <div class="step-content">

                <div class="score-display">
                    <div class="score-number" id="totalScore">0/0</div>
                    <div class="score-label">Übungen richtig beim ersten Versuch</div>
                </div>

                <div class="checklist">
                    <h3>Checkliste für den Test</h3>
                    <ul>
                        <li><span class="thema-badge thema-bewegung">1</span> Bahnform (geradlinig / krummlinig) und Bewegungsart (gleichförmig / ungleichförmig) unterscheiden</li>
                        <li><span class="thema-badge thema-geschwindigkeit">2</span> Geschwindigkeit = Weg geteilt durch Zeit &ndash; und andersherum überlegen</li>
                        <li><span class="thema-badge thema-diagramm">3</span> Weg-Zeit-Diagramme ablesen: steil = schnell, waagerecht = Pause</li>
                        <li><span class="thema-badge thema-verkehr">4</span> Reaktionsweg + Bremsweg = Anhalteweg</li>
                    </ul>
                </div>

                <div class="warnung">
                    <strong>Tipp für den Test:</strong><br>
                    Lies jede Aufgabe genau. Alle Zahlen sind im Kopf zu rechnen. Wenn du die Geschwindigkeit kennst, überlege: Wie weit komme ich in 1 Sekunde? Wie viele Sekunden brauche ich dann?
                </div>

                <div class="info-box" style="background: var(--success-bg); border-color: var(--success);">
                    <strong>Du hast die Vorbereitung abgeschlossen!</strong> Viel Erfolg im Test!
                </div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="prevStep(4)">&#8592; Zurück</button>
                    <button class="btn btn-primary" onclick="resetLP()">Nochmal üben</button>
                </div>
            </div>
        </div>

    </div>

    <script>
    // ════════════════════════════════════════════════════════════════
    // LP-06 TESTVORBEREITUNG - LERNPFAD LOGIK (ES5)
    // ════════════════════════════════════════════════════════════════

    var TOTAL_STEPS = 6;
    var STORAGE_KEY = 'lp-06-testvorbereitung';

    var currentStep = 0;
    var visitedSteps = [];
    var firstAttempts = {};
    var warmupAnswered = 0;

    var warmupAnswers = {
        'q1': { correct: 'b', feedback: {
            correct: 'Richtig! Ein Kreis ist eine Kurve, also krummlinig.',
            incorrect: 'Ein Kreis ist keine gerade Linie &ndash; also ist die Bahnform krummlinig.'
        }},
        'q2': { correct: 'b', feedback: {
            correct: 'Richtig! 10 Meter pro Sekunde, also in 6 Sekunden: 6 &times; 10 = 60 m.',
            incorrect: '10 Meter pro Sekunde bedeutet: jede Sekunde 10 m. In 6 Sekunden also 6 &times; 10 = 60 m.'
        }},
        'q3': { correct: 'b', feedback: {
            correct: 'Richtig! Waagerecht = der Weg ändert sich nicht = Stillstand.',
            incorrect: 'Waagerecht bedeutet: Der Weg bleibt gleich. Also Stillstand (Pause).'
        }},
        'q4': { correct: 'a', feedback: {
            correct: 'Richtig! Anhalteweg = Reaktionsweg + Bremsweg.',
            incorrect: 'Merke: Anhalteweg = Reaktionsweg + Bremsweg'
        }}
    };

    // Progress
    function updateProgress() {
        var percent = (currentStep / (TOTAL_STEPS - 1)) * 100;
        document.getElementById('progressFill').style.width = percent + '%';
    }

    function generateStepIndicators() {
        var container = document.getElementById('stepIndicators');
        container.innerHTML = '';
        var labels = ['?', '1', '2', '3', '4', '&#10003;'];
        for (var i = 0; i < TOTAL_STEPS; i++) {
            var dot = document.createElement('div');
            dot.className = 'step-dot';
            if (i === currentStep) dot.classList.add('current');
            if (visitedSteps.indexOf(i) !== -1) dot.classList.add('completed');
            dot.innerHTML = labels[i];
            dot.setAttribute('data-step', i);
            dot.onclick = function() {
                showStep(parseInt(this.getAttribute('data-step')));
            };
            container.appendChild(dot);
        }
    }

    function updateStepIndicators() {
        var dots = document.querySelectorAll('.step-dot');
        for (var i = 0; i < dots.length; i++) {
            dots[i].classList.remove('current');
            if (i === currentStep) dots[i].classList.add('current');
            if (visitedSteps.indexOf(i) !== -1) dots[i].classList.add('completed');
        }
    }

    // Navigation
    function showStep(n) {
        if (visitedSteps.indexOf(currentStep) === -1) {
            visitedSteps.push(currentStep);
        }
        for (var i = 0; i < TOTAL_STEPS; i++) {
            var step = document.getElementById('step' + i);
            if (step) step.classList.remove('active');
        }
        var targetStep = document.getElementById('step' + n);
        if (targetStep) {
            targetStep.classList.add('active');
            currentStep = n;
            updateProgress();
            updateStepIndicators();
            saveProgress();
            window.scrollTo(0, 0);
        }
    }

    function nextStep(n) { showStep(n); }
    function prevStep(n) { showStep(n); }

    function finishLP() {
        updateTotalScore();
        showStep(5);
    }

    function resetLP() {
        try { localStorage.removeItem(STORAGE_KEY); } catch(e) {}
        location.reload();
    }

    // Warm-up
    function selectWarmup(qId, answer) {
        var options = document.querySelectorAll('#warmup-' + qId + ' .warmup-option');
        for (var i = 0; i < options.length; i++) {
            options[i].classList.remove('selected', 'correct', 'incorrect');
        }
        var optionIndex = answer.charCodeAt(0) - 97;
        var selectedOption = options[optionIndex] || null;
        if (selectedOption) selectedOption.classList.add('selected');

        var feedback = document.getElementById('feedback-warmup-' + qId);
        var correctAnswer = warmupAnswers[qId].correct;
        var key = 'warmup-' + qId;

        if (!firstAttempts[key]) {
            firstAttempts[key] = (answer === correctAnswer) ? 'correct' : 'incorrect';
            warmupAnswered++;
        }

        if (answer === correctAnswer) {
            if (selectedOption) selectedOption.classList.add('correct');
            feedback.className = 'warmup-feedback show correct';
            feedback.innerHTML = '&#10003; ' + warmupAnswers[qId].feedback.correct;
        } else {
            if (selectedOption) selectedOption.classList.add('incorrect');
            feedback.className = 'warmup-feedback show incorrect';
            feedback.innerHTML = '&rarr; ' + warmupAnswers[qId].feedback.incorrect;
        }

        if (warmupAnswered === 4) {
            var correct = 0;
            for (var k in firstAttempts) {
                if (k.indexOf('warmup-') === 0 && firstAttempts[k] === 'correct') correct++;
            }
            var scoreEl = document.getElementById('quickScore');
            scoreEl.style.display = 'block';
            document.getElementById('quickScoreNum').textContent = correct + '/4';
            var texts = {
                4: 'Perfekt! Du bist gut vorbereitet.',
                3: 'Gut! Schau dir den Block nochmal an, wo du unsicher warst.',
                2: 'Okay! Geh die Blöcke in Ruhe durch.',
                1: 'Kein Problem! Die Übungen helfen dir.',
                0: 'Kein Problem! Die Übungen helfen dir.'
            };
            document.getElementById('quickScoreText').textContent = texts[correct];
        }
    }

    // Block 1: Bewegungsarten
    function checkEx1() {
        var fields = {
            'ex1-a1': 'gerade', 'ex1-a2': 'gleich',
            'ex1-b1': 'krumm', 'ex1-b2': 'ungleich',
            'ex1-c1': 'gerade', 'ex1-c2': 'ungleich'
        };
        var correct = 0;
        for (var id in fields) {
            if (document.getElementById(id).value === fields[id]) correct++;
        }

        if (!firstAttempts['ex1']) {
            firstAttempts['ex1'] = (correct === 6) ? 'correct' : 'incorrect';
        }

        var feedback = document.getElementById('feedback-1');
        if (correct === 6) {
            feedback.className = 'feedback correct';
            feedback.innerHTML = '<strong>Alles richtig!</strong> Bewegungsarten sitzen.';
        } else if (correct >= 4) {
            feedback.className = 'feedback hint';
            feedback.innerHTML = correct + '/6 richtig. Denk dran: Bogen = krummlinig. Beschleunigen = ungleichförmig.';
        } else {
            feedback.className = 'feedback incorrect';
            feedback.innerHTML = correct + '/6 richtig. Lies den Merksatz oben nochmal.';
        }
    }

    // Block 2: Geschwindigkeit
    function checkEx2a() {
        var val = parseFloat(document.getElementById('ex2-a').value);
        if (!firstAttempts['ex2a']) {
            firstAttempts['ex2a'] = (val === 5) ? 'correct' : 'incorrect';
        }
        var feedback = document.getElementById('feedback-2a');
        if (val === 5) {
            feedback.className = 'feedback correct';
            feedback.innerHTML = '<strong>Richtig!</strong> 150 geteilt durch 30 = 5. Also 5 Meter pro Sekunde.';
        } else {
            feedback.className = 'feedback hint';
            feedback.innerHTML = 'Teile den Weg durch die Zeit: 150 geteilt durch 30 = ?';
        }
    }

    function checkEx2b() {
        var val = parseFloat(document.getElementById('ex2-b').value);
        if (!firstAttempts['ex2b']) {
            firstAttempts['ex2b'] = (val === 30) ? 'correct' : 'incorrect';
        }
        var feedback = document.getElementById('feedback-2b');
        if (val === 30) {
            feedback.className = 'feedback correct';
            feedback.innerHTML = '<strong>Richtig!</strong> 8 m pro Sekunde &ndash; für 240 m braucht er 240 &divide; 8 = 30 Sekunden.';
        } else {
            feedback.className = 'feedback hint';
            feedback.innerHTML = 'Pro Sekunde schafft er 8 m. Für 240 m also: 240 &divide; 8 = ? Sekunden.';
        }
    }

    // Block 3: Diagramm
    // Diagramm: X (0-10 min: 0-40m), Y (10-15 min: Pause bei 40m), Z (15-25 min: 40-160m)
    function checkEx3() {
        var a = parseFloat(document.getElementById('ex3-a').value);
        var b = document.getElementById('ex3-b').value;
        var c = document.getElementById('ex3-c').value;
        var correct = 0;
        if (a === 40) correct++;
        if (b === 'pause') correct++;
        if (c === 'z') correct++;

        if (!firstAttempts['ex3']) {
            firstAttempts['ex3'] = (correct === 3) ? 'correct' : 'incorrect';
        }

        var feedback = document.getElementById('feedback-3');
        if (correct === 3) {
            feedback.className = 'feedback correct';
            feedback.innerHTML = '<strong>Alles richtig!</strong> X: 40 m in 10 min (flach = langsam). Y: Pause. Z: 120 m in 10 min (steil = schnell).';
        } else if (correct >= 1) {
            feedback.className = 'feedback hint';
            feedback.innerHTML = correct + '/3 richtig. Schau genau auf die Achsenwerte. Steilere Linie = schneller.';
        } else {
            feedback.className = 'feedback incorrect';
            feedback.innerHTML = 'Lies an der senkrechten Achse bei 10 min ab. Waagerecht = Pause. Steil = schnell.';
        }
    }

    // Block 4: Verkehrssicherheit
    // Fahrrad 8 m/s, Bremsweg 6 m → Reaktionsweg 8 m, Anhalteweg 14 m
    function checkEx4() {
        var a = parseFloat(document.getElementById('ex4-a').value);
        var b = parseFloat(document.getElementById('ex4-b').value);
        var correct = 0;
        if (a === 8) correct++;
        if (b === 14) correct++;

        if (!firstAttempts['ex4']) {
            firstAttempts['ex4'] = (correct === 2) ? 'correct' : 'incorrect';
        }

        var feedback = document.getElementById('feedback-4');
        if (correct === 2) {
            feedback.className = 'feedback correct';
            feedback.innerHTML = '<strong>Richtig!</strong> In 1 Sekunde Reaktionszeit: 8 m. Anhalteweg: 8 m + 6 m = 14 m.';
        } else if (correct === 1) {
            feedback.className = 'feedback hint';
            feedback.innerHTML = 'Fast! Bei 8 m/s legt das Fahrrad in 1 s genau 8 m zurück. Dann: 8 m + 6 m = ?';
        } else {
            feedback.className = 'feedback incorrect';
            feedback.innerHTML = '8 Meter pro Sekunde &rarr; in 1 Sekunde Reaktionszeit = 8 m. Dann Anhalteweg = 8 m + 6 m.';
        }
    }

    function checkEx4c() {
        var val = document.getElementById('ex4-c').value;
        if (!firstAttempts['ex4c']) {
            firstAttempts['ex4c'] = (val === 'laenger') ? 'correct' : 'incorrect';
        }
        var feedback = document.getElementById('feedback-4c');
        if (val === 'laenger') {
            feedback.className = 'feedback correct';
            feedback.innerHTML = '<strong>Richtig!</strong> Längerer Bremsweg &rarr; längerer Anhalteweg. Darum: bei Nässe langsamer fahren!';
        } else {
            feedback.className = 'feedback hint';
            feedback.innerHTML = 'Anhalteweg = Reaktionsweg + Bremsweg. Wenn der Bremsweg länger wird ...?';
        }
    }

    // Score
    function updateTotalScore() {
        var correct = 0;
        var answered = 0;
        for (var k in firstAttempts) {
            answered++;
            if (firstAttempts[k] === 'correct') correct++;
        }
        document.getElementById('totalScore').textContent = correct + '/' + answered;
    }

    // LocalStorage
    function saveProgress() {
        try {
            localStorage.setItem(STORAGE_KEY, JSON.stringify({
                step: currentStep,
                visited: visitedSteps,
                attempts: firstAttempts,
                warmupAnswered: warmupAnswered
            }));
        } catch (e) {}
    }

    function loadProgress() {
        try {
            var data = JSON.parse(localStorage.getItem(STORAGE_KEY));
            if (data) {
                visitedSteps = data.visited || [];
                firstAttempts = data.attempts || {};
                warmupAnswered = data.warmupAnswered || 0;
                showStep(data.step || 0);
            }
        } catch (e) {}
    }

    document.addEventListener('DOMContentLoaded', function() {
        generateStepIndicators();
        updateProgress();
        loadProgress();
    });

    </script>
</body>
</html>
