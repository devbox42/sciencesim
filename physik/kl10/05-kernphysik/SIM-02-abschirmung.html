<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abschirmung radioaktiver Strahlung – Simulation</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f5f5f5;
            color: #222;
            font-size: 0.9em;
            line-height: 1.5;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            font-size: 1.4em;
            font-weight: 600;
            color: #2c5aa0;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #888;
            font-size: 0.85em;
            margin-bottom: 20px;
        }
        .sim-container {
            background: #fff;
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
        }
        canvas {
            display: block;
            background: #1a1a2e;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        label {
            font-size: 0.8em;
            color: #555;
        }
        select, button {
            padding: 8px 12px;
            font-size: 0.85em;
            border: 1px solid #ddd;
            background: #fff;
        }
        button {
            background: #2c5aa0;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background: #1e4080;
        }
        .radiation-select {
            display: flex;
            gap: 10px;
        }
        .radiation-btn {
            padding: 10px 20px;
            border: 2px solid #ddd;
            background: #fff;
            cursor: pointer;
            font-weight: 600;
        }
        .radiation-btn.active {
            border-color: #2c5aa0;
            background: #e8f0fc;
        }
        .radiation-btn.alpha { color: #c62828; }
        .radiation-btn.beta { color: #1565c0; }
        .radiation-btn.gamma { color: #2a7a4b; }
        .meter {
            margin-top: 15px;
            padding: 15px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .meter-display {
            font-family: monospace;
            font-size: 2em;
            font-weight: bold;
            color: #2c5aa0;
            min-width: 150px;
        }
        .meter-bar {
            flex: 1;
            height: 20px;
            background: #ddd;
            position: relative;
        }
        .meter-fill {
            height: 100%;
            background: linear-gradient(to right, #2a7a4b, #ffc107, #c62828);
            transition: width 0.3s;
        }
        .absorber-info {
            margin-top: 15px;
            padding: 10px;
            background: #fff3e0;
            border: 1px solid #b35c00;
            font-size: 0.85em;
        }
        .legend {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            font-size: 0.8em;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .info-box {
            background: #fff;
            border: 1px solid #ddd;
            padding: 15px;
            margin-top: 15px;
        }
        .info-box h3 {
            font-size: 1em;
            color: #2c5aa0;
            margin-bottom: 8px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85em;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #f5f5f5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Abschirmung radioaktiver Strahlung</h1>
        <p class="subtitle">Teste verschiedene Materialien gegen α-, β- und γ-Strahlung</p>

        <div class="sim-container">
            <canvas id="canvas" width="800" height="300"></canvas>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-dot" style="background: #c62828;"></div>
                    <span>α-Strahlung</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #1565c0;"></div>
                    <span>β-Strahlung</span>
                </div>
                <div class="legend-item">
                    <div class="legend-dot" style="background: #2a7a4b;"></div>
                    <span>γ-Strahlung</span>
                </div>
            </div>

            <div class="controls">
                <div class="control-group">
                    <label>Strahlungsart:</label>
                    <div class="radiation-select">
                        <button class="radiation-btn alpha active" data-type="alpha">α Alpha</button>
                        <button class="radiation-btn beta" data-type="beta">β Beta</button>
                        <button class="radiation-btn gamma" data-type="gamma">γ Gamma</button>
                    </div>
                </div>
                <div class="control-group">
                    <label>Absorber:</label>
                    <select id="absorber">
                        <option value="none">Kein Absorber</option>
                        <option value="paper">Papier (1 mm)</option>
                        <option value="aluminum">Aluminium (2 mm)</option>
                        <option value="lead">Blei (5 mm)</option>
                    </select>
                </div>
            </div>

            <div class="meter">
                <div>
                    <div style="font-size: 0.8em; color: #555;">Geiger-Zähler</div>
                    <div class="meter-display"><span id="countRate">0</span> Imp/s</div>
                </div>
                <div class="meter-bar">
                    <div class="meter-fill" id="meterFill" style="width: 0%;"></div>
                </div>
            </div>

            <div class="absorber-info" id="absorberInfo">
                Wähle einen Absorber, um die Abschirmwirkung zu testen.
            </div>
        </div>

        <div class="info-box">
            <h3>Abschirmung im Überblick</h3>
            <table>
                <tr>
                    <th>Strahlung</th>
                    <th>Reichweite (Luft)</th>
                    <th>Gestoppt durch</th>
                    <th>Ionisierungsvermögen</th>
                </tr>
                <tr>
                    <td style="color: #c62828; font-weight: 600;">α Alpha</td>
                    <td>Wenige cm</td>
                    <td>Papier, Haut</td>
                    <td>Sehr hoch</td>
                </tr>
                <tr>
                    <td style="color: #1565c0; font-weight: 600;">β Beta</td>
                    <td>Einige m</td>
                    <td>Aluminium (mm)</td>
                    <td>Mittel</td>
                </tr>
                <tr>
                    <td style="color: #2a7a4b; font-weight: 600;">γ Gamma</td>
                    <td>Viele km</td>
                    <td>Blei (cm), Beton</td>
                    <td>Gering</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        // State
        let radiationType = 'alpha';
        let absorber = 'none';
        let particles = [];
        let baseRate = 100;

        // Absorption factors
        const absorption = {
            alpha: { none: 1, paper: 0.02, aluminum: 0, lead: 0 },
            beta: { none: 1, paper: 0.9, aluminum: 0.05, lead: 0 },
            gamma: { none: 1, paper: 0.98, aluminum: 0.9, lead: 0.3 }
        };

        // Colors
        const colors = {
            alpha: '#c62828',
            beta: '#1565c0',
            gamma: '#2a7a4b'
        };

        // Absorber properties
        const absorberProps = {
            none: { width: 0, color: 'transparent', name: 'Kein Absorber' },
            paper: { width: 10, color: '#f5f5dc', name: 'Papier (1 mm)' },
            aluminum: { width: 20, color: '#c0c0c0', name: 'Aluminium (2 mm)' },
            lead: { width: 40, color: '#4a4a4a', name: 'Blei (5 mm)' }
        };

        const sourceX = 100;
        const absorberX = 400;
        const detectorX = 650;

        // Create particle
        function createParticle() {
            const passThrough = Math.random() < absorption[radiationType][absorber];
            const y = 100 + Math.random() * 100;

            let speed, size;
            if (radiationType === 'alpha') {
                speed = 3 + Math.random() * 2;
                size = 5;
            } else if (radiationType === 'beta') {
                speed = 5 + Math.random() * 3;
                size = 3;
            } else {
                speed = 8 + Math.random() * 4;
                size = 2;
            }

            particles.push({
                x: sourceX + 30,
                y: y,
                vx: speed,
                vy: (Math.random() - 0.5) * 2,
                size: size,
                passThrough: passThrough,
                stopped: false,
                detected: false
            });
        }

        // Update particles
        function update() {
            const absProps = absorberProps[absorber];

            particles.forEach(p => {
                if (p.stopped || p.detected) return;

                p.x += p.vx;
                p.y += p.vy;

                // Check absorber collision
                if (!p.passThrough && p.x >= absorberX - absProps.width/2 && p.x <= absorberX + absProps.width/2) {
                    p.stopped = true;
                }

                // Check detector
                if (p.x >= detectorX) {
                    p.detected = true;
                }

                // Remove if off screen
                if (p.x > 800 || p.y < 0 || p.y > 300) {
                    p.stopped = true;
                }
            });

            // Clean up
            particles = particles.filter(p => p.x < 800 && !p.detected);
        }

        // Draw
        function draw() {
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0, 0, 800, 300);

            // Source
            ctx.fillStyle = '#555';
            ctx.fillRect(sourceX - 20, 80, 40, 140);
            ctx.fillStyle = colors[radiationType];
            ctx.beginPath();
            ctx.arc(sourceX, 150, 15, 0, Math.PI * 2);
            ctx.fill();

            // Radiation symbol on source
            ctx.fillStyle = '#222';
            ctx.font = 'bold 16px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('☢', sourceX, 155);

            // Absorber
            const absProps = absorberProps[absorber];
            if (absProps.width > 0) {
                ctx.fillStyle = absProps.color;
                ctx.fillRect(absorberX - absProps.width/2, 50, absProps.width, 200);
                ctx.strokeStyle = '#888';
                ctx.strokeRect(absorberX - absProps.width/2, 50, absProps.width, 200);
            }

            // Detector (Geiger counter)
            ctx.fillStyle = '#333';
            ctx.fillRect(detectorX, 80, 60, 140);
            ctx.fillStyle = '#666';
            ctx.fillRect(detectorX + 10, 100, 40, 100);

            // Particles
            particles.forEach(p => {
                if (p.stopped) {
                    ctx.fillStyle = 'rgba(255,255,255,0.3)';
                } else {
                    ctx.fillStyle = colors[radiationType];
                }
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
            });

            // Labels
            ctx.fillStyle = '#888';
            ctx.font = '11px sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('Quelle', sourceX, 240);
            if (absorber !== 'none') {
                ctx.fillText(absProps.name, absorberX, 270);
            }
            ctx.fillText('Detektor', detectorX + 30, 240);
        }

        // Update meter
        function updateMeter() {
            const rate = Math.round(baseRate * absorption[radiationType][absorber]);
            document.getElementById('countRate').textContent = rate;
            document.getElementById('meterFill').style.width = rate + '%';

            // Info text
            const absProps = absorberProps[absorber];
            const percent = Math.round(absorption[radiationType][absorber] * 100);
            let info = '';

            if (absorber === 'none') {
                info = `${radiationType.toUpperCase()}-Strahlung ohne Abschirmung: 100% durchgelassen.`;
            } else if (percent === 0) {
                info = `${absProps.name} stoppt ${radiationType.toUpperCase()}-Strahlung vollständig!`;
            } else if (percent < 10) {
                info = `${absProps.name} absorbiert fast alle ${radiationType.toUpperCase()}-Teilchen. Nur ${percent}% kommen durch.`;
            } else {
                info = `${absProps.name} lässt ${percent}% der ${radiationType.toUpperCase()}-Strahlung durch.`;
            }

            document.getElementById('absorberInfo').textContent = info;
        }

        // Event listeners
        document.querySelectorAll('.radiation-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.radiation-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                radiationType = this.dataset.type;
                particles = [];
                updateMeter();
            });
        });

        document.getElementById('absorber').addEventListener('change', function() {
            absorber = this.value;
            particles = [];
            updateMeter();
        });

        // Animation loop
        function animate() {
            if (Math.random() < 0.3) createParticle();
            update();
            draw();
            requestAnimationFrame(animate);
        }

        // Initialize
        updateMeter();
        animate();
    </script>
</body>
</html>
