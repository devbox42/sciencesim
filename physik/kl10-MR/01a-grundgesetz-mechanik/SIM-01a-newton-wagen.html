<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulation: Newton-Wagen ‚Äì F = m ¬∑ a</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f5f5f5;
            color: #222;
            font-size: 16px;
            line-height: 1.5;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 20px; }

        header {
            background: #2c5aa0;
            color: white;
            padding: 15px 20px;
            text-align: center;
        }
        header h1 { font-size: 1.3em; font-weight: 600; }
        header p { font-size: 0.85em; opacity: 0.9; margin-top: 5px; }

        .sim-container {
            background: white;
            border: 1px solid #ddd;
            padding: 20px;
            margin: 20px 0;
        }

        .canvas-wrapper {
            background: #f0f0f0;
            border: 1px solid #ddd;
            margin: 15px 0;
        }
        canvas { display: block; }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .control-box {
            padding: 15px;
            border: 1px solid #ddd;
            background: #fafafa;
        }
        .control-box h3 {
            color: #2c5aa0;
            margin-bottom: 15px;
            font-size: 1em;
        }
        .control-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 12px 0;
        }
        .control-row label {
            min-width: 100px;
            font-size: 0.9em;
            font-weight: 600;
        }
        .control-row input[type="range"] { flex: 1; }
        .control-row .value {
            min-width: 80px;
            text-align: center;
            font-weight: bold;
            font-family: monospace;
            background: #e3f2fd;
            padding: 5px 10px;
        }

        .formula-box {
            background: #e8f5e9;
            border: 2px solid #2a7a4b;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .formula-box h3 { color: #2a7a4b; margin-bottom: 15px; }
        .formula-main {
            font-size: 2em;
            font-weight: bold;
            color: #2a7a4b;
            margin: 15px 0;
        }
        .formula-calc {
            font-size: 1.2em;
            font-family: monospace;
            margin: 10px 0;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
        }
        .comparison-item {
            padding: 15px;
            text-align: center;
            border: 2px solid;
        }
        .comparison-item.current {
            border-color: #2c5aa0;
            background: #e3f2fd;
        }
        .comparison-item.saved {
            border-color: #888;
            background: #f5f5f5;
        }
        .comparison-item h4 { margin-bottom: 10px; font-size: 0.9em; }
        .comparison-item .big-val {
            font-size: 1.8em;
            font-weight: bold;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2c5aa0;
            padding: 15px;
            margin: 15px 0;
            font-size: 0.9em;
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        button {
            background: #2c5aa0;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1em;
            cursor: pointer;
        }
        button:hover { background: #1e4080; }
        button.btn-success { background: #2a7a4b; }
        button.btn-warning { background: #b35c00; }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9em;
        }
        .data-table th, .data-table td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: center;
        }
        .data-table th { background: #2c5aa0; color: white; }
        .data-table tr:nth-child(even) { background: #f5f5f5; }

        @media (max-width: 600px) {
            .controls, .comparison { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <h1>Newton-Wagen ‚Äì F = m ¬∑ a experimentieren</h1>
        <p>Physik Klasse 10 | Grundgesetz der Mechanik</p>
    </header>

    <div class="container">
        <div class="info-box">
            <strong>Lernziel:</strong> Untersuche den Zusammenhang zwischen <strong>Kraft (F)</strong>, <strong>Masse (m)</strong> und <strong>Beschleunigung (a)</strong>.
        </div>

        <div class="sim-container">
            <div class="canvas-wrapper">
                <canvas id="simCanvas" width="860" height="250"></canvas>
            </div>

            <div class="controls">
                <div class="control-box">
                    <h3>‚ö° Kraft F</h3>
                    <div class="control-row">
                        <label>Kraft:</label>
                        <input type="range" id="force" min="10" max="200" value="100" step="10">
                        <span class="value" id="force-val">100 N</span>
                    </div>
                    <p style="font-size: 0.85em; color: #666; margin-top: 10px;">
                        Die Kraft, die den Wagen nach rechts schiebt.
                    </p>
                </div>

                <div class="control-box">
                    <h3>‚öñÔ∏è Masse m</h3>
                    <div class="control-row">
                        <label>Masse:</label>
                        <input type="range" id="mass" min="5" max="100" value="20" step="5">
                        <span class="value" id="mass-val">20 kg</span>
                    </div>
                    <p style="font-size: 0.85em; color: #666; margin-top: 10px;">
                        Die Masse des Wagens (mehr Gewichte = schwerer).
                    </p>
                </div>
            </div>

            <div class="formula-box">
                <h3>Grundgesetz der Mechanik</h3>
                <div class="formula-main">a = F √∑ m</div>
                <div class="formula-calc" id="formula-calc">a = 100 N √∑ 20 kg</div>
                <div class="formula-main" id="result-accel" style="color: #c62828;">= 5 m/s¬≤</div>
            </div>

            <div class="buttons">
                <button class="btn-success" onclick="startAnimation()">‚ñ∂ Wagen beschleunigen</button>
                <button onclick="resetAnimation()">‚Ü∫ Zur√ºcksetzen</button>
                <button class="btn-warning" onclick="saveComparison()">üìä Zum Vergleich speichern</button>
            </div>

            <div class="comparison" id="comparison-section" style="display: none;">
                <div class="comparison-item current">
                    <h4>Aktuell</h4>
                    <div>F = <span id="cmp-f1">100</span> N</div>
                    <div>m = <span id="cmp-m1">20</span> kg</div>
                    <div class="big-val" style="color: #2c5aa0;">a = <span id="cmp-a1">5</span> m/s¬≤</div>
                </div>
                <div class="comparison-item saved">
                    <h4>Gespeichert</h4>
                    <div>F = <span id="cmp-f2">‚Äî</span> N</div>
                    <div>m = <span id="cmp-m2">‚Äî</span> kg</div>
                    <div class="big-val" style="color: #888;">a = <span id="cmp-a2">‚Äî</span> m/s¬≤</div>
                </div>
            </div>
        </div>

        <div class="sim-container">
            <h3 style="color: #2c5aa0; margin-bottom: 15px;">üìã Messwerte-Tabelle</h3>
            <table class="data-table" id="data-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Kraft F (N)</th>
                        <th>Masse m (kg)</th>
                        <th>Beschleunigung a (m/s¬≤)</th>
                    </tr>
                </thead>
                <tbody id="table-body">
                </tbody>
            </table>
            <div class="buttons">
                <button onclick="addToTable()">+ Messwert hinzuf√ºgen</button>
                <button style="background: #888;" onclick="clearTable()">Tabelle leeren</button>
            </div>
        </div>

        <div class="info-box">
            <strong>Erkenntnisse:</strong>
            <ul style="margin: 10px 0 0 20px;">
                <li><strong>Mehr Kraft</strong> bei gleicher Masse ‚Üí <strong>gr√∂√üere Beschleunigung</strong></li>
                <li><strong>Mehr Masse</strong> bei gleicher Kraft ‚Üí <strong>kleinere Beschleunigung</strong></li>
                <li>Die Beschleunigung ist <strong>proportional zur Kraft</strong> und <strong>umgekehrt proportional zur Masse</strong></li>
            </ul>
        </div>

        <div class="sim-container">
            <h3 style="color: #2c5aa0; margin-bottom: 15px;">üî¨ Experimente</h3>
            <ol style="margin-left: 20px; line-height: 2;">
                <li><strong>Experiment 1:</strong> Halte m = 20 kg konstant. Verdopple F von 50 N auf 100 N. Was passiert mit a?</li>
                <li><strong>Experiment 2:</strong> Halte F = 100 N konstant. Verdopple m von 20 kg auf 40 kg. Was passiert mit a?</li>
                <li><strong>Experiment 3:</strong> Finde drei verschiedene Kombinationen von F und m, die alle a = 10 m/s¬≤ ergeben.</li>
            </ol>
        </div>
    </div>

    <script>
    var canvas = document.getElementById('simCanvas');
    var ctx = canvas.getContext('2d');

    var wagonX = 100;
    var wagonVel = 0;
    var animating = false;
    var animId = null;
    var savedComparison = null;
    var measurementCount = 0;

    function getValues() {
        var force = parseInt(document.getElementById('force').value);
        var mass = parseInt(document.getElementById('mass').value);
        var accel = force / mass;
        return { force: force, mass: mass, accel: accel };
    }

    function updateDisplay() {
        var v = getValues();

        document.getElementById('force-val').textContent = v.force + ' N';
        document.getElementById('mass-val').textContent = v.mass + ' kg';

        document.getElementById('formula-calc').textContent = 'a = ' + v.force + ' N √∑ ' + v.mass + ' kg';
        document.getElementById('result-accel').textContent = '= ' + v.accel.toFixed(1) + ' m/s¬≤';

        // Update comparison
        document.getElementById('cmp-f1').textContent = v.force;
        document.getElementById('cmp-m1').textContent = v.mass;
        document.getElementById('cmp-a1').textContent = v.accel.toFixed(1);

        draw();
    }

    function draw() {
        var v = getValues();
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Hintergrund
        ctx.fillStyle = '#f8f8f8';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Schiene
        ctx.fillStyle = '#888';
        ctx.fillRect(50, 180, 760, 10);

        // Schienen-Markierungen
        ctx.strokeStyle = '#666';
        ctx.lineWidth = 2;
        for (var i = 50; i <= 800; i += 50) {
            ctx.beginPath();
            ctx.moveTo(i, 185);
            ctx.lineTo(i, 195);
            ctx.stroke();
            if (i % 100 === 0) {
                ctx.fillStyle = '#666';
                ctx.font = '12px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText((i - 50) / 10 + ' cm', i, 210);
            }
        }

        // Wagen
        var wagonWidth = 80 + v.mass * 0.5;
        var wagonHeight = 50 + v.mass * 0.3;

        // Wagen-K√∂rper
        ctx.fillStyle = '#2c5aa0';
        ctx.fillRect(wagonX, 180 - wagonHeight, wagonWidth, wagonHeight);

        // R√§der
        ctx.fillStyle = '#333';
        ctx.beginPath();
        ctx.arc(wagonX + 20, 185, 12, 0, Math.PI * 2);
        ctx.fill();
        ctx.beginPath();
        ctx.arc(wagonX + wagonWidth - 20, 185, 12, 0, Math.PI * 2);
        ctx.fill();

        // Gewichte auf dem Wagen
        var numWeights = Math.floor(v.mass / 20);
        ctx.fillStyle = '#c62828';
        for (var w = 0; w < numWeights && w < 4; w++) {
            ctx.fillRect(wagonX + 10 + w * 18, 180 - wagonHeight + 10, 15, 20);
        }

        // Masse-Label
        ctx.fillStyle = 'white';
        ctx.font = 'bold 14px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(v.mass + ' kg', wagonX + wagonWidth / 2, 180 - wagonHeight / 2 + 5);

        // Kraftpfeil
        var arrowLength = v.force * 1.5;
        ctx.strokeStyle = '#c62828';
        ctx.fillStyle = '#c62828';
        ctx.lineWidth = 8;
        ctx.beginPath();
        ctx.moveTo(wagonX + wagonWidth, 155 - wagonHeight / 2);
        ctx.lineTo(wagonX + wagonWidth + arrowLength, 155 - wagonHeight / 2);
        ctx.stroke();

        // Pfeilspitze
        ctx.beginPath();
        ctx.moveTo(wagonX + wagonWidth + arrowLength, 155 - wagonHeight / 2);
        ctx.lineTo(wagonX + wagonWidth + arrowLength - 15, 155 - wagonHeight / 2 - 12);
        ctx.lineTo(wagonX + wagonWidth + arrowLength - 15, 155 - wagonHeight / 2 + 12);
        ctx.closePath();
        ctx.fill();

        // Kraft-Label
        ctx.font = 'bold 16px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('F = ' + v.force + ' N', wagonX + wagonWidth + arrowLength / 2, 155 - wagonHeight / 2 - 20);

        // Beschleunigungspfeil (gr√ºn, unten)
        if (v.accel > 0) {
            var accelArrowLen = v.accel * 15;
            ctx.strokeStyle = '#2a7a4b';
            ctx.fillStyle = '#2a7a4b';
            ctx.lineWidth = 6;
            ctx.beginPath();
            ctx.moveTo(wagonX + wagonWidth / 2, 230);
            ctx.lineTo(wagonX + wagonWidth / 2 + accelArrowLen, 230);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(wagonX + wagonWidth / 2 + accelArrowLen, 230);
            ctx.lineTo(wagonX + wagonWidth / 2 + accelArrowLen - 10, 222);
            ctx.lineTo(wagonX + wagonWidth / 2 + accelArrowLen - 10, 238);
            ctx.closePath();
            ctx.fill();

            ctx.font = 'bold 14px sans-serif';
            ctx.fillText('a = ' + v.accel.toFixed(1) + ' m/s¬≤', wagonX + wagonWidth / 2 + accelArrowLen / 2, 250);
        }

        // Geschwindigkeit anzeigen (w√§hrend Animation)
        if (animating) {
            ctx.fillStyle = '#2c5aa0';
            ctx.font = 'bold 14px sans-serif';
            ctx.textAlign = 'left';
            ctx.fillText('v = ' + wagonVel.toFixed(1) + ' m/s', 60, 30);
        }
    }

    function startAnimation() {
        if (animating) return;
        animating = true;
        wagonVel = 0;
        animate();
    }

    function animate() {
        var v = getValues();

        wagonVel += v.accel * 0.02;
        wagonX += wagonVel * 3;

        draw();

        if (wagonX > 650) {
            animating = false;
            return;
        }

        if (animating) {
            animId = requestAnimationFrame(animate);
        }
    }

    function resetAnimation() {
        animating = false;
        if (animId) cancelAnimationFrame(animId);
        wagonX = 100;
        wagonVel = 0;
        draw();
    }

    function saveComparison() {
        var v = getValues();
        savedComparison = { force: v.force, mass: v.mass, accel: v.accel };

        document.getElementById('cmp-f2').textContent = v.force;
        document.getElementById('cmp-m2').textContent = v.mass;
        document.getElementById('cmp-a2').textContent = v.accel.toFixed(1);

        document.getElementById('comparison-section').style.display = 'grid';
    }

    function addToTable() {
        var v = getValues();
        measurementCount++;

        var tbody = document.getElementById('table-body');
        var row = document.createElement('tr');
        row.innerHTML = '<td>' + measurementCount + '</td><td>' + v.force + '</td><td>' + v.mass + '</td><td>' + v.accel.toFixed(1) + '</td>';
        tbody.appendChild(row);
    }

    function clearTable() {
        measurementCount = 0;
        document.getElementById('table-body').innerHTML = '';
    }

    // Event Listeners
    document.querySelectorAll('input[type="range"]').forEach(function(el) {
        el.addEventListener('input', function() {
            resetAnimation();
            updateDisplay();
        });
    });

    // Init
    updateDisplay();
    </script>
</body>
</html>
